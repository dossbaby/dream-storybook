# 점AI (jeom.ai) 구현 전략
## 태그 시스템 + pSEO + 결제 통합 마스터 플랜

> 최종 업데이트: 2025년 12월 7일 (v6 - UX 폴리싱 + 에러 처리)
>
> **브랜드 변경**: Dream Storybook → 점AI (jeom.ai)

---

## 진행 상황 (Progress Tracker)

### Phase 0: AI Tier System ✅ 완료 (v4 - 3티어)
| 작업 | 상태 | 비고 |
|------|------|------|
| 3티어 시스템 설계 | ✅ 완료 | 무료/프리미엄/울트라 |
| 텍스트 AI 설정 | ✅ 완료 | Free/Premium: Sonnet 4.5, Ultra: Opus 4.5 |
| 이미지 AI 설정 | ✅ 완료 | Free: Flash, Premium/Ultra: Gemini 3 Pro |
| 이미지 설정 추가 | ✅ 완료 | IMAGE_CONFIG (16:9 리딩, 1:1 내보내기) |
| 프리미엄 차별화 | ✅ 완료 | 기능 해금 (Hidden Insight, 심층 분석) |
| 울트라 차별화 | ✅ 완료 | AI 품질 업그레이드 (소름돋는 통찰) |
| TIER_LIMITS 설정 | ✅ 완료 | 무료 하루 1회, 유료 무제한 |
| 가격 설정 | ✅ 완료 | 프리미엄 ₩6,900, 울트라 ₩9,900 |
| PremiumModal 3티어 UI | ✅ 완료 | 플랜 탭 + 감성적 문구 |

### Phase 1: 기반 작업 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| [P1-1] 타로 결과창 하단 뒤로가기/다른질문 버튼 제거 | ✅ 완료 | TarotResultView.jsx |
| [P1-2] 명조 폰트 → 리디바탕 전체 변경 | ✅ 완료 | Nanum Myeongjo → RIDIBatang |
| [P1-3] fortune → saju 네이밍 전체 변경 | ✅ 완료 | 라우팅, Firebase, seoConfig |

### Phase 2: 통합 공개 설정 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| VisibilitySelector 컴포넌트 생성 | ✅ 완료 | 3단계: private/unlisted/public |
| 저장 로직에 visibility 연동 | ✅ 완료 | useFirebaseSave.js 수정, 레거시 호환 |
| 푸터 연도 동적 처리 | ✅ 완료 | 2025 하드코딩 → new Date().getFullYear() |
| 마이페이지 공개 설정 통합 | ✅ 완료 | VisibilityDropdown UI, 꿈/타로/사주 모두 지원 |

### Phase 3: 태그 시스템 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| keywords → tags 정규화 로직 | ✅ 완료 | tagUtils.js (normalizeTag, hasTag, getTagUrl) |
| 키워드 클릭 → /tag/{tagName} | ✅ 완료 | FeedView.jsx에서 navigateToTagPage 구현 |
| TagPage.jsx 생성 | ✅ 완료 | 꿈/타로/사주 통합 태그 페이지 |
| 타입별 필터 탭 | ✅ 완료 | 전체/꿈/타로/사주 필터링 |
| 관련 태그 표시 | ✅ 완료 | 동일 콘텐츠에서 추출한 관련 태그 |
| TagPage CSS | ✅ 완료 | seo-pages.css에 스타일 추가 |

### Phase 4: pSEO 강화 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| TagPage SEO 메타데이터 강화 | ✅ 완료 | 풍부한 description, keywords, url |
| /tags 전체 태그 탐색 페이지 | ✅ 완료 | TagsPage.jsx + 통계/정렬/필터 |
| 동적 sitemap 생성기 | ✅ 완료 | sitemapGenerator.js |
| robots.txt 생성기 | ✅ 완료 | sitemapGenerator.js |

### Phase 5: 결제 시스템 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| PremiumModal.jsx 생성 | ✅ 완료 | 티어 비교 + 가격 UI |
| useUsageLimit.js 훅 | ✅ 완료 | 일일 사용량 추적 |
| PremiumBadge 컴포넌트 | ✅ 완료 | 배지/블러/잠금 UI |
| paymentConfig.js | ✅ 완료 | 토스페이먼츠 설정 |
| premium.css 스타일 | ✅ 완료 | 모달/배지/블러 스타일 |
| App.jsx 연동 | ✅ 완료 | 프리미엄 모달 + 사용량 훅 연동 |
| NavBar 프리미엄 배지 | ✅ 완료 | 네비게이션에 배지 표시 |

### Phase 6: 데이터 마이그레이션 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| 마이그레이션 유틸리티 생성 | ✅ 완료 | dataMigration.js (rating, visibility, jenny) |
| fortunes → saju 컬렉션 마이그레이션 | ✅ 완료 | migrateFortuneToSaju({ dryRun: true }) |
| keywords → tags 변환 스크립트 | ✅ 완료 | migrateKeywordsToTags('dreams', { dryRun: true }) |
| isPublic → visibility 마이그레이션 | ✅ 준비됨 | runMigration('dreams', 'visibility') |
| /fortune/* → /saju/* 리다이렉트 | ✅ 완료 | main.jsx Navigate 컴포넌트 |
| sitemap 레거시 fortunes 지원 | ✅ 완료 | sitemapGenerator.js fortunes→saju URL |

### Phase 7: 티어 고도화 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| Hidden Insight 프리미엄 잠금 | ✅ 완료 | 타로/사주 결과뷰에 적용 |
| 심층 분석 프리미엄 잠금 | ✅ 완료 | DreamDetail, StoryCard, ResultView 적용 |
| useAuth 3티어 시스템 | ✅ 완료 | tier/isPremium/isUltra + Firestore 연동 |
| useReading tier 연동 | ✅ 완료 | 티어별 AI 모델 분기 적용 |
| 사용량 제한 "주 3회"로 변경 | ✅ 완료 | useUsageLimit 주간 시스템 전환 |
| 리딩 히스토리 제한 | ✅ 완료 | 무료 3개 / 프리미엄 무제한 (MyPage 적용) |
| 익명 공유 인센티브 | ✅ 완료 | 공유 시 주 1회 무료 리딩 +1 부여 |
| 맞춤 질문 기능 | ✅ 완료 | 무료: 프리셋 선택, 프리미엄: 자유 입력 |
| 패턴 분석 기능 | ✅ 완료 | 무료: 기본 통계, 프리미엄: 전체 + AI 인사이트 |
| 사주 궁합/연간운세 | ✅ 완료 | 프리미엄 전용 UI + 궁합 입력 폼 |

### Phase 7.5: 리브랜딩 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| 도메인 구매 및 연동 | ✅ 완료 | jeom.ai (Porkbun → Vercel) |
| 브랜드명 변경 | ✅ 완료 | 드림북 → 점AI |
| 로고 이모지 변경 | ✅ 완료 | ✨ → 🔮 (수정구슬) |
| 로고 애니메이션 개선 | ✅ 완료 | crystalFloat + crystalPulse |
| index.html 메타태그 | ✅ 완료 | title, OG, favicon |
| SEO 파일 업데이트 | ✅ 완료 | SEOHead, seoConfig, sitemapGenerator |
| 공유 텍스트 업데이트 | ✅ 완료 | ShareModal, cardHelpers |
| robots.txt 업데이트 | ✅ 완료 | sitemap URL 변경 |
| package.json 업데이트 | ✅ 완료 | name, homepage |

### Phase 8: 그로스 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| 알림/리마인더 시스템 | ✅ 완료 | useNotifications.js, NotificationSettings.jsx, 아침/저녁 리마인더 |
| 레퍼럴 프로그램 | ✅ 완료 | useReferral.js, ReferralModal.jsx, 초대자 +2/피초대자 +1 리딩 |
| 온보딩 플로우 개선 | ✅ 완료 | 5단계 인터랙티브 온보딩, 크리스탈/피처카드/선물박스 비주얼, 스와이프 네비게이션 |
| 시즌 이벤트 시스템 | ✅ 완료 | seasonalEvents.js, SeasonalEventBanner.jsx, 7개 시즌 이벤트 |
| 영어 확장 준비 | ✅ 완료 | i18n/index.js, ko.js, en.js, useI18n.js, LanguageSelector.jsx |

### Phase 9: 프롬프트 캐싱 (비용 최적화) ✅ 완료

> ⚠️ **필수 참고 문서:**
> - `docs/claude-caching-guide.md` - Claude 캐싱 공식 가이드
> - `docs/gemini-caching-guide.md` - Gemini 캐싱 공식 가이드

| 작업 | 상태 | 비고 |
|------|------|------|
| Claude 시스템 프롬프트 캐싱 적용 | ✅ 완료 | promptCache.js + cache_control ephemeral |
| Gemini implicit 캐싱 확인 | ✅ 완료 | 이미지 생성 전용 → 텍스트 캐싱 불필요 |
| 캐싱 효과 모니터링 로직 | ✅ 완료 | cacheAnalytics.js + localStorage 통계 저장 |
| 비용 절감 분석 리포트 | ✅ 완료 | window.cacheAnalytics.printReport() 개발자 콘솔 |

### Phase 10: 모바일 최적화 ✅ 완료
> **벤치마크: 토스 앱** - 직관적이고 편리한 모바일 경험
> 대다수 사용자가 모바일로 접속할 것으로 예상되므로 모바일 친화적 UI/UX는 필수

| 작업 | 상태 | 비고 |
|------|------|------|
| **1. 현황 분석 및 기반 세팅** | | |
| viewport meta 최적화 | ✅ 완료 | maximum-scale, viewport-fit=cover, theme-color, apple-mobile-web-app |
| CSS 변수 기반 반응형 시스템 | ✅ 완료 | spacing, typography, touch-target, safe-area, z-index, transitions |
| 브레이크포인트 표준화 | ✅ 완료 | 640px(mobile), 768px(tablet), 1024px(desktop) |
| **2. 레이아웃 재구성** | | |
| 모바일 전용 레이아웃 | ✅ 완료 | 768px 이하에서 사이드바 숨김, 단일 컬럼 |
| 사이드바 → 바텀시트/드로어 | ✅ 완료 | MobileSidebarSheet.jsx, 탐색 바텀시트 |
| 네비게이션 바 최적화 | ✅ 완료 | BottomNav 중앙 플로팅 버튼, 탐색/피드 분리 |
| 바텀 네비게이션 추가 | ✅ 완료 | BottomNav.jsx 생성, 홈/타로/꿈/사주/마이 |
| **3. 터치 최적화** | | |
| 터치 타겟 44px 이상 | ✅ 완료 | --touch-target-min 변수, @media (pointer: coarse) |
| 스와이프 제스처 | ✅ 완료 | useSwipe.js 훅 생성 |
| 터치 피드백 (haptic) | ✅ 완료 | :active 시각 피드백 (scale, opacity) |
| hover 상태 제거 | ✅ 완료 | @media (hover: none) 처리 |
| **4. 컴포넌트별 최적화** | | |
| 카드 뷰어 풀스크린 | ✅ 완료 | 9:16 카드 모바일 전체 화면, ESC/스와이프 지원 |
| 모달 → 풀스크린 시트 | ✅ 완료 | 640px 이하에서 바텀시트 스타일, slideUp 애니메이션 |
| 입력 폼 최적화 | ✅ 완료 | inputmode, enterKeyHint, iOS 확대 방지, 터치 피드백 |
| 이미지 lazy loading | ✅ 완료 | LazyImage.jsx + IntersectionObserver |
| **5. 성능 최적화** | | |
| 번들 사이즈 최적화 | ✅ 완료 | code splitting (174KB 메인 번들) |
| 이미지 최적화 | ✅ 완료 | LazyImage srcset/sizes 지원, imageUtils.js, priority 옵션 |
| 폰트 최적화 | ✅ 완료 | font-display: swap 적용 (RIDIBatang, Pretendard) |
| Skeleton UI | ✅ 완료 | Skeleton.jsx + skeleton.css |
| **6. PWA 기능** | | |
| manifest.json | ✅ 완료 | 앱 아이콘, 스플래시, shortcuts |
| Service Worker | ✅ 완료 | sw.js (오프라인 지원, 캐싱) |
| 홈 화면 추가 유도 | ✅ 완료 | InstallPrompt.jsx (iOS/Android) |

### Phase 11: 피드백 시스템 ✅ 완료
> 사용자 피드백을 통한 서비스 개선 + 인센티브 기반 참여 유도

| 작업 | 상태 | 비고 |
|------|------|------|
| **0. 별점 피드백 (추가)** | | |
| RatingFeedback.jsx 컴포넌트 | ✅ 완료 | 1-5 별점 UI |
| useFeedback.js 훅 | ✅ 완료 | Firebase 별점 저장 |
| rating.css 스타일 | ✅ 완료 | 별점 애니메이션 |
| ResultView 별점 연동 | ✅ 완료 | 마지막 카드에서 표시 |
| **1. 피드백 모달 UI** | | |
| FeedbackModal.jsx 컴포넌트 | ✅ 완료 | 깔끔한 모달 UI (4.71KB 청크) |
| 피드백 유형 선택 | ✅ 완료 | 버그/제안/칭찬/기타 4종 |
| 내용 입력 textarea | ✅ 완료 | 최소 10자, 최대 1000자 |
| 스크린샷 첨부 (선택) | ⏳ 대기 | 이미지 업로드 옵션 |
| **2. Firestore 저장** | | |
| feedbacks 컬렉션 저장 | ✅ 완료 | userId, type, content, metadata |
| 메타데이터 포함 | ✅ 완료 | userAgent, platform, language |
| **3. 인센티브 시스템** | | |
| 피드백 제출 시 +1 리딩 | ✅ 완료 | bonusReadings increment(1) |
| 주 1회 제한 (7일 쿨다운) | ✅ 완료 | lastFeedbackAt 체크 |
| 마지막 피드백 시간 저장 | ✅ 완료 | users/{uid}/lastFeedbackAt |
| 보너스 획득 토스트 | ✅ 완료 | 도파민 팝업 연동 |
| **4. 마이페이지 연동** | | |
| 피드백 보내기 버튼 | ✅ 완료 | 프로필 액션에 배치 |
| 쿨다운 상태 표시 | ✅ 완료 | 모달 내 "N일 후 가능" 표시 |
| 피드백 히스토리 (선택) | ⏳ 대기 | 내가 보낸 피드백 목록 |

### Phase 12: 타로 카드 선택 UX 전면 개편 🎮 ✅ 완료
> 게임처럼 몰입감 있고 고급스러운 카드 선택 경험 (VN Intro 참고)

| 작업 | 상태 | 비고 |
|------|------|------|
| **1. 레이아웃 개편** | | |
| "3장을 선택하면..." 배너 제거 | ✅ 완료 | 불필요한 안내 삭제 |
| 카드 스프레드 상단 배치 | ✅ 완료 | 슬롯 상단, 스프레드 하단 배치 |
| 풀스크린 몰입형 디자인 | ✅ 완료 | 어두운 그라데이션 + 빛 효과 배경 |
| **2. 카드 선택 UX 개선** | | |
| 클릭 반응성 개선 | ✅ 완료 | :active 터치 피드백 추가 |
| 호버/탭 피드백 강화 | ✅ 완료 | 글로우 효과 + eye 스케일 업 |
| 선택 애니메이션 | ✅ 완료 | cardSelected 키프레임 애니메이션 |
| 슬롯 카드 등장 애니메이션 | ✅ 완료 | slotCardAppear + shimmer 효과 |
| 터치/드래그 지원 | ✅ 완료 | 스와이프 스크롤 + 드래그 클릭 구분 |
| **3. 비주얼 업그레이드** | | |
| 배경 분위기 통일 | ✅ 완료 | 어두운 신비로운 그라데이션 (.tarot-theme) |
| 카드 디자인 개선 | ✅ 완료 | 카드 뒷면 shimmer + inset glow |
| 파티클/빛 이펙트 | ✅ 완료 | CSS 별빛 파티클 + twinkle 애니메이션 |
| 선택 슬롯 UI 개선 | ✅ 완료 | 보너스 슬롯 언락 애니메이션 강화 |
| **4. 사운드 (선택)** | | |
| 카드 선택 효과음 | ⏳ 대기 | 부드러운 카드 뒤집는 소리 |
| 배경 앰비언트 | ⏳ 대기 | 신비로운 분위기 (음소거 가능) |

### Phase 13: 네비게이션 및 FAB 개선 ✅ 완료
> 직관적인 CTA와 깔끔한 레이아웃

| 작업 | 상태 | 비고 |
|------|------|------|
| **1. 상단 탭 CTA 개선** | | |
| 타로 버튼 문구 | ✅ 완료 | "운명의 카드" → "타로 보기" |
| 꿈 버튼 문구 | ✅ 완료 | "꿈 해몽" → "꿈 해몽하기" |
| 사주 버튼 문구 | ✅ 완료 | "사주풀이" → "사주 보기" |
| 탭 디자인 강화 | ✅ 완료 | 그라데이션 배경 + box-shadow 효과 적용 |
| **2. FAB (플로팅 버튼) 개선** | | |
| 위치 조정 | ✅ 기존 | 반응형 위치 적용됨 |
| FAB 디자인 개선 | ✅ 완료 | shimmer 효과 + hover 애니메이션 |
| 컨텍스트 인식 | ✅ 기존 | 현재 모드별 색상/액션 표시 |
| 모바일에서만 숨김 | ✅ 기존 | BottomNav 사용 (768px 이하)
| **3. Firebase 안정화** | | |
| Firestore 연결 에러 수정 | ✅ 완료 | 폴링 방식으로 전환하여 해결 |
| Quota 관리 개선 | ✅ 완료 | onSnapshot → getDocs 폴링 전환 |
| 실시간 리스너 최적화 | ✅ 완료 | 60초/30초 폴링으로 대체 (Phase 14) |
| **4. 알림 시스템 수정** | | |
| 중복 알림 방지 | ✅ 완료 | localStorage 히스토리 기반 중복 체크 |
| 알림 조건 정리 | ✅ 완료 | 본인 콘텐츠 제외 + 새 콘텐츠만 |
| 알림 히스토리 저장 | ✅ 완료 | feed_notification_history (최근 50건) |

### Phase 14: Firebase 비용 최적화 ✅ 완료
> 유저 확장 대비 Firestore 읽기/쓰기 효율화

**현재 상황 분석 (1인 테스트 기준):**
| 항목 | 현재 사용 | 무료 한도 | 100명 예상 | 초과율 |
|------|----------|----------|-----------|--------|
| 읽기/일 | 2,800 | 50,000 | ~280,000 | 5.6배 |
| 쓰기/일 | 1,800 | 20,000 | ~180,000 | 9배 |

**예상 월 비용:** 100명 ~$15, 1,000명 ~$150, 10,000명 ~$1,500

| 작업 | 상태 | 비고 | 절감 효과 |
|------|------|------|----------|
| **1. 쓰기 최적화** | | | |
| Presence heartbeat 주기 변경 | ✅ 완료 | 30초 → 5분 | 쓰기 **90% 감소** |
| 메모리 캐싱 레이어 | ✅ 완료 | firebaseCache.js | 읽기 감소 |
| 배치 쓰기 (batch write) | ⏳ 대기 | 여러 문서 한번에 저장 | 쓰기 20% 감소 |
| 불필요한 업데이트 제거 | ⏳ 대기 | 변경 없으면 쓰기 스킵 | 쓰기 30% 감소 |
| **2. 읽기 최적화** | | | |
| onSnapshot → getDocs (피드) | ✅ 완료 | 60초 폴링으로 전환 | 읽기 **90% 감소** |
| onSnapshot → getDocs (댓글) | ✅ 완료 | 30초 폴링으로 전환 | 읽기 **50% 감소** |
| 페이지네이션 적용 | ⏳ 대기 | 무한스크롤 대신 페이지 | 읽기 50% 감소 |
| 쿼리 결과 캐싱 | ⏳ 대기 | React Query/SWR 도입 | 읽기 30% 감소 |
| 필드 선택적 조회 | ⏳ 대기 | 필요한 필드만 select | 대역폭 감소 |
| **3. 실시간 기능 축소** | | | |
| 실시간 피드 → 폴링 | ✅ 완료 | 60초 간격 폴링 | 읽기 90% 감소 |
| Presence 폴링 전환 | ✅ 완료 | viewers 60초, likes 30초 폴링 | 읽기 **80% 감소** |
| 댓글 실시간 → 폴링 | ✅ 완료 | 30초 간격 폴링으로 변경 | 읽기 50% 감소 |
| **4. 인프라 대안 검토** | | | |
| Firestore → Supabase 검토 | ⏳ 대기 | 무료 할당량 더 많음 | 비용 절감 |
| Redis 캐시 레이어 | ⏳ 대기 | 자주 읽는 데이터 캐싱 | 읽기 감소 |
| CDN 정적 콘텐츠 | ⏳ 대기 | 이미지/폰트 CDN 활용 | 대역폭 감소 |

### Phase 15: SEO 콘텐츠 전략 📈 진행 중
> "타로 보기", "꿈 해몽", "사주 보기" 등 핵심 키워드 검색 1페이지 노출 목표

**타겟 키워드 분석:**
| 키워드 | 월간 검색량 (추정) | 경쟁도 | 전략 |
|--------|------------------|--------|------|
| 무료 타로 | 50,000+ | 높음 | 장기 목표 |
| 오늘의 타로 | 30,000+ | 중간 | 중기 목표 |
| 꿈 해몽 | 40,000+ | 높음 | 장기 목표 |
| 뱀꿈 해몽 | 10,000+ | 낮음 | **단기 가능** |
| 무료 사주 | 30,000+ | 높음 | 장기 목표 |
| 오늘의 운세 | 20,000+ | 중간 | 중기 목표 |

| 작업 | 상태 | 비고 |
|------|------|------|
| **0. 기본 SEO 설정** | | |
| 메타태그 강화 | ✅ 완료 | description, keywords, OG, Twitter Card |
| JSON-LD 구조화 데이터 | ✅ 완료 | WebApplication 스키마 |
| robots.txt 설정 | ✅ 완료 | Allow 규칙 + 사이트맵 연결 |
| sitemap.xml 업데이트 | ✅ 완료 | jeom.ai URL로 통일 |
| **1. 플랫폼 선택 (Headless WordPress 추천)** | | |
| React 블로그 컴포넌트 | ✅ 완료 | BlogCard, BlogSEO, BlogListPage, BlogPostPage |
| 라우팅 설정 (/blog, /guide) | ✅ 완료 | main.jsx 라우트 추가 |
| WPGraphQL 클라이언트 | ✅ 완료 | src/services/wordpress.js |
| Headless WordPress 세팅 | ⏳ 대기 | WP + WPGraphQL 설치 (docs/wordpress-setup.md 참조) |
| WPML 다국어 플러그인 | ⏳ 대기 | 한/영/일/중 콘텐츠 관리 |
| **RankMath SEO 연동** | ⏳ 대기 | wp-graphql-rank-math (무료 기능 多, Headless 네이티브 지원) |
| wp.jeom.ai 호스팅 | ⏳ 대기 | $5-15/월 (관리자 전용) |
| **2. 롱테일 키워드 콘텐츠** | | |
| 꿈 해몽 사전 페이지 | ⏳ 대기 | /dreams/dictionary/뱀, /용, /물 등 |
| 타로 카드 의미 페이지 | ⏳ 대기 | /tarot/cards/fool, /magician 등 |
| 사주 용어 설명 페이지 | ⏳ 대기 | /saju/terms/갑자, /을축 등 |
| **3. 정보성 콘텐츠** | | |
| "뱀꿈 해몽 총정리" 가이드 | ⏳ 대기 | 2000자+ 심층 콘텐츠 |
| "타로 카드 보는 법" 가이드 | ⏳ 대기 | 초보자 가이드 |
| "사주팔자란?" 입문 가이드 | ⏳ 대기 | 기초 설명 |
| **4. 사용자 생성 콘텐츠 (UGC)** | | |
| 공개 리딩 SEO 최적화 | ⏳ 대기 | 구조화 데이터, 메타태그 |
| 인기 태그 랜딩 페이지 | ⏳ 대기 | /tag/연애운, /tag/직장운 |
| 실시간 트렌딩 키워드 | ⏳ 대기 | 오늘 많이 검색된 꿈/타로 |
| **5. 기술적 SEO** | | |
| 사이트맵 자동 생성 | ⏳ 대기 | 신규 콘텐츠 즉시 반영 |
| 내부 링크 구조 최적화 | ⏳ 대기 | 관련 콘텐츠 상호 연결 |
| Core Web Vitals 최적화 | ⏳ 대기 | LCP, FID, CLS 개선 |
| Google Search Console 연동 | ⏳ 대기 | 인덱싱 모니터링 |

**블로그 플랫폼 비교:**
```
┌─────────────────────────────────────────────────────────────┐
│  옵션 1: 앱 내 블로그 통합 (jeom.ai/blog)                     │
├─────────────────────────────────────────────────────────────┤
│  장점:                                                       │
│  • 도메인 권한 통합 (SEO 시너지)                              │
│  • 사용자 경험 일관성                                         │
│  • 리딩 → 블로그 자연스러운 연결                              │
│  • 관리 포인트 하나                                           │
│                                                             │
│  단점:                                                       │
│  • 개발 시간 필요 (CMS 구축)                                  │
│  • 초기 구축 복잡                                             │
├─────────────────────────────────────────────────────────────┤
│  추천도: ⭐⭐⭐⭐ (장기적으로 Best)                            │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  옵션 2: 워드프레스 (blog.jeom.ai)                            │
├─────────────────────────────────────────────────────────────┤
│  장점:                                                       │
│  • 즉시 시작 가능                                             │
│  • SEO 플러그인 풍부 (Yoast, RankMath)                       │
│  • 콘텐츠 관리 쉬움                                           │
│  • 다양한 테마                                                │
│                                                             │
│  단점:                                                       │
│  • 서브도메인 = 별도 도메인 취급 (SEO 분산)                   │
│  • 호스팅 비용 추가 ($5-20/월)                               │
│  • 디자인 통일 어려움                                         │
│  • 보안 관리 필요                                             │
├─────────────────────────────────────────────────────────────┤
│  추천도: ⭐⭐⭐ (빠른 시작용)                                  │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  옵션 3: 정적 페이지 (jeom.ai/guide/*)                        │
├─────────────────────────────────────────────────────────────┤
│  장점:                                                       │
│  • 개발 간단 (React 컴포넌트)                                 │
│  • 빠른 로딩 속도                                             │
│  • 도메인 권한 유지                                           │
│                                                             │
│  단점:                                                       │
│  • 콘텐츠 수정 = 코드 배포                                    │
│  • 비개발자 수정 불가                                         │
│  • 다국어 관리 어려움                                         │
├─────────────────────────────────────────────────────────────┤
│  추천도: ⭐⭐⭐ (핵심 가이드 10-20개용)                        │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  옵션 4: Headless WordPress (jeom.ai/blog, /guide) ⭐ 추천   │
├─────────────────────────────────────────────────────────────┤
│  장점:                                                       │
│  • WordPress 에디터 (비개발자 콘텐츠 작성 가능)               │
│  • RankMath SEO + WPGraphQL 연동 (무료 기능 多, Headless 네이티브) │
│  • 다국어: WPML/Polylang으로 쉬운 번역 관리 🌏               │
│  • React 프론트엔드와 완벽 통합 (WPGraphQL)                  │
│  • 도메인 권한 유지 (jeom.ai/blog)                           │
│  • SSG 가능 (Core Web Vitals 최적화)                         │
│  • 콘텐츠 확장성 우수                                         │
│                                                             │
│  단점:                                                       │
│  • 초기 세팅 복잡 (WP + GraphQL + React 연동)                │
│  • 호스팅 비용 ($5-15/월 - WP 서버 필요)                     │
│  • 보안 관리 필요 (WP 업데이트)                              │
│  • 두 개 시스템 관리 (앱 + CMS)                              │
├─────────────────────────────────────────────────────────────┤
│  추천도: ⭐⭐⭐⭐⭐ (SEO + 다국어 시너지 최고!)                │
└─────────────────────────────────────────────────────────────┘

📊 옵션별 비교표:
┌────────────────┬─────────┬─────────┬─────────┬─────────────┐
│ 항목           │ 옵션1   │ 옵션2   │ 옵션3   │ 옵션4       │
│                │ 앱통합  │ WP서브  │ 정적    │ Headless WP │
├────────────────┼─────────┼─────────┼─────────┼─────────────┤
│ SEO 도메인권한 │ ⭐⭐⭐⭐⭐│ ⭐⭐⭐  │ ⭐⭐⭐⭐⭐│ ⭐⭐⭐⭐⭐   │
│ 다국어 지원    │ ⭐⭐    │ ⭐⭐⭐⭐│ ⭐⭐    │ ⭐⭐⭐⭐⭐   │
│ 비개발자 편집  │ ⭐      │ ⭐⭐⭐⭐⭐│ ⭐      │ ⭐⭐⭐⭐⭐   │
│ 초기 구축 시간 │ 2-3주   │ 1-2일   │ 3-5일   │ 1주         │
│ 월 비용        │ $0      │ $5-20   │ $0      │ $5-15       │
│ Core Web Vitals│ ⭐⭐⭐⭐ │ ⭐⭐⭐  │ ⭐⭐⭐⭐⭐│ ⭐⭐⭐⭐⭐   │
│ RankMath 연동  │ ❌      │ ✅      │ ❌      │ ✅          │
│ 콘텐츠 확장성  │ ⭐⭐⭐  │ ⭐⭐⭐⭐⭐│ ⭐⭐    │ ⭐⭐⭐⭐⭐   │
└────────────────┴─────────┴─────────┴─────────┴─────────────┘

💡 권장 전략 (Headless WordPress + Localization):
─────────────────────────────────────────────────
구조:
  jeom.ai (React App - Vite)
  ├── / (메인 앱)
  ├── /tarot, /dream, /saju (리딩 기능)
  └── /blog, /guide/* (Headless WP에서 데이터 fetch)

  wp.jeom.ai (WordPress Admin - 비공개)
  └── REST API / WPGraphQL로 콘텐츠 제공

다국어 URL 구조:
  /ko/guide/snake-dream   ← WP (WPML 한국어)
  /ja/guide/snake-dream   ← WP (WPML 일본어) - 四柱推命
  /zh/guide/snake-dream   ← WP (WPML 중국어) - 八字
  /en/guide/snake-dream   ← WP (WPML 영어)

실행 단계:
1단계: Headless WP 세팅 + WPGraphQL 연동
       → 핵심 가이드 10개 (한/영) 작성
       → 빠르게 검색 노출 시작

2단계: WPML로 일본어/중국어 추가
       → 사주 = 四柱推命 = 八字 시너지 활용
       → 글로벌 SEO 확보

3단계: UGC 콘텐츠 SEO 강화
       → 공개 리딩이 자동으로 SEO 페이지 역할
       → 롱테일 키워드 자연 유입
```

### Phase 16: 온보딩 플로우 ✅ 완료
> 첫 방문 사용자 환영 + 서비스 소개 + 보너스 지급

| 작업 | 상태 | 비고 |
|------|------|------|
| OnboardingModal.jsx 생성 | ✅ 완료 | 5단계 스와이프 튜토리얼 |
| 첫 방문 감지 로직 | ✅ 완료 | localStorage 기반 체크 |
| 스텝 전환 애니메이션 | ✅ 완료 | fadeInRight + 프로그레스 인디케이터 |
| 환영 보너스 지급 | ✅ 완료 | 무료 리딩 3회 (도파민 팝업) |
| 스킵 기능 | ✅ 완료 | 언제든 건너뛰기 가능 |
| 모바일 반응형 UI | ✅ 완료 | 하단 시트 스타일 |

### Phase 17: UX 폴리싱 ✅ 완료
> 로딩 UX 개선 및 SEO 이미지 추가

| 작업 | 상태 | 비고 |
|------|------|------|
| OG 이미지 생성 | ✅ 완료 | og-image.svg (1200x630) |
| 스켈레톤 카드 컴포넌트 | ✅ 완료 | SkeletonCard.jsx (feed/detail/sidebar) |
| RightSidebar 스켈레톤 적용 | ✅ 완료 | 로딩 시 shimmer 애니메이션 |
| skeleton.css 스타일 확장 | ✅ 완료 | shimmer, skeleton-card, skeleton-list |

### Phase 18: 에러 처리 및 빈 상태 UX ✅ 완료
> 사용자 친화적인 에러/빈 상태 UI

| 작업 | 상태 | 비고 |
|------|------|------|
| EmptyState.jsx 컴포넌트 | ✅ 완료 | 6종 타입 (dream/tarot/fortune/feed/comment/search) |
| ErrorBoundary.jsx 컴포넌트 | ✅ 완료 | 친근한 에러 UI + 재시도/홈으로 버튼 |
| main.jsx ErrorBoundary 적용 | ✅ 완료 | 전체 앱 감싸기 |
| 빈 상태 스타일 추가 | ✅ 완료 | feed.css (empty-state, error-boundary) |

### Phase 19: 이미지 생성 고도화 + AI 티어 검증 🎨 ✅ 완료
> 동적 애니메 스타일 + 티어별 AI 모델 정확성 + Hero 이미지 분리

**핵심 목표:**
1. Claude가 질문 분위기에 맞는 애니메 스타일 추천 → Gemini에 전달
2. 티어별 AI 모델 사용 정확성 검증 (Opus 4.5 for Ultra)
3. Hero 이미지를 Card1과 별도로 생성 (모든 리딩 타입)

**동적 애니메 스타일 시스템:**
```
사용자 질문 → Claude 분석 (imageStyle 추천) → Gemini 이미지 생성
```

| 스타일 키 | 스튜디오/작품 | 적합한 분위기 |
|----------|--------------|--------------|
| shinkai | CoMix Wave (Your Name) | 로맨틱, 황금빛 석양, 몽환 |
| kyoani | Kyoto Animation (Violet Evergarden) | 감성적, 섬세, 파스텔 |
| ghibli | Studio Ghibli (Spirited Away) | 따뜻한, 마법적, 향수 |
| mappa_dark | MAPPA (Chainsaw Man) | 다크, 그릿티, 성숙 |
| mappa_action | MAPPA (Jujutsu Kaisen) | 역동적, 강렬한 액션 |
| ufotable | Ufotable (Demon Slayer) | 화려한 이펙트, CGI 블렌드 |
| trigger | Studio Trigger (Cyberpunk Edgerunners) | 네온, 대담한 기하학 |
| sciencesaru | Science Saru (Dan Da Dan) | 실험적, 컬러워시 |
| shojo | 클래식 소녀만화 (Apothecary Diaries) | 우아, 스파클, 로맨틱 |
| webtoon | 웹툰 스타일 (Solo Leveling) | 클린, 디지털, 에픽 |
| cgi_gem | CGI 크리스탈 (Land of the Lustrous) | 보석, 반짝임, 환상 |
| minimalist | 미니멀리스트 | 깔끔, 여백, 절제 |

**구현 구조:**
```javascript
// Claude JSON 응답에 imageStyle 추가
{
  "hook": "...",
  "foreshadow": "...",
  "imageStyle": "kyoani",  // ← Claude가 선택
  "images": {
    "hero": "장면 묘사만 (스타일 prefix 없이)",
    "card1": "장면 묘사만",
    ...
  }
}

// useImageGeneration.js
const ANIME_STYLES = {
  shinkai: 'Makoto Shinkai style, golden hour, hyper-detailed backgrounds, dreamy twilight',
  kyoani: 'Kyoto Animation style, soft lighting, delicate emotional, pastel colors',
  // ... 12개 스타일
};

const generateSingleImage = async (scenePrompt, styleKey) => {
  const stylePrefix = ANIME_STYLES[styleKey] || ANIME_STYLES.shinkai;
  const fullPrompt = `${stylePrefix}. ${scenePrompt}. No text.`;
  // Gemini API 호출...
};
```

| 작업 | 상태 | 비고 |
|------|------|------|
| **1. 동적 애니메 스타일** | | |
| ANIME_STYLES 상수 정의 | ✅ 완료 | aiConfig.js (12개 스타일 + STYLE_GUIDE) |
| Claude 프롬프트에 imageStyle 필드 추가 | ✅ 완료 | 타로/꿈/사주 3개 프롬프트 모두 |
| useImageGeneration styleKey 파라미터 추가 | ✅ 완료 | generateSingleImage(prompt, styleKey, charDesc, readingType) |
| useReading에서 imageStyle 전달 | ✅ 완료 | data.imageStyle → generateSingleImage |
| **2. 티어별 AI 모델 검증** | | |
| @anthropic-ai/sdk import 확인 | ✅ 완료 | useReading.js Anthropic 클래스 사용 |
| modelConfig.textModel 사용 확인 | ✅ 완료 | Ultra → claude-opus-4-5 정상 |
| 콘솔 로그로 모델명 확인 추가 | ✅ 완료 | tierLabel 로그 (🔥 Ultra/⭐ Premium/🆓 Free) |
| **3. Hero 이미지 분리** | | |
| 타로: heroImage ≠ card1Image 확인 | ✅ 완료 | 별도 heroPrompt로 생성 |
| 꿈: heroImage ≠ dreamImage 확인 | ✅ 완료 | 별도 heroPrompt로 생성 |
| 사주: heroImage ≠ section1Image 확인 | ✅ 완료 | 별도 heroPrompt로 생성 |
| 결과 뷰에서 heroImage 사용 확인 | ✅ 완료 | 각 ResultView에서 heroImage 우선 사용 |

---

### Phase 20: 글로벌 Localization 🌏 대기
> 다국어 지원으로 글로벌 시장 진출

**타겟 시장 분석:**
| 국가 | 시장 규모 | 문화적 시너지 | 우선순위 |
|------|----------|--------------|---------|
| 🇯🇵 일본 | 高 | 四柱推命 = 사주 (동일 시스템) | ⭐⭐⭐⭐⭐ |
| 🇨🇳 중국/대만 | 최고 | 八字 = 사주 (동일 시스템) | ⭐⭐⭐⭐⭐ |
| 🇧🇷🇲🇽 라틴 | 高 | 타로 문화 강력 | ⭐⭐⭐⭐ |
| 🇹🇭🇻🇳 동남아 | 中 | 중국식 운세 영향권 | ⭐⭐⭐ |
| 🇮🇳 인도 | 高 (49% 성장) | Vedic 별도 시스템 | ⭐⭐⭐ |

**구현 전략:**
```
Phase 1: 빠른 MVP (1-2일)
├── 프롬프트에 언어 지시 추가 (Claude가 해당 언어로 응답)
├── UI locales 파일 추가 (ja.js, zh.js)
└── 문화 컨텍스트 최소 분기

Phase 2: 점진적 개선
├── 언어별 예시 문장 추가
├── 문화적 상징 해석 차별화
└── 지역별 특화 기능 (선택)
```

| 작업 | 상태 | 비고 |
|------|------|------|
| **1. 기본 i18n 인프라** | | |
| i18n 시스템 구축 | ✅ 완료 | src/i18n/ (ko.js, en.js) |
| useI18n 훅 | ✅ 완료 | 언어 전환 + t() 함수 |
| 브라우저 언어 감지 | ✅ 완료 | navigator.language |
| **2. 언어별 Locale 파일** | | |
| 한국어 (ko.js) | ✅ 완료 | 기본 언어 |
| 영어 (en.js) | ✅ 완료 | 글로벌 기본 |
| 일본어 (ja.js) | ⏳ 대기 | 1순위 확장 |
| 중국어 간체 (zh.js) | ⏳ 대기 | 1순위 확장 |
| 중국어 번체 (zh-TW.js) | ⏳ 대기 | 대만 시장 |
| 포르투갈어 (pt-BR.js) | ⏳ 대기 | 브라질 시장 |
| 스페인어 (es.js) | ⏳ 대기 | 라틴 시장 |
| 태국어 (th.js) | ⏳ 대기 | 동남아 시장 |
| 베트남어 (vi.js) | ⏳ 대기 | 동남아 시장 |
| **3. AI 프롬프트 현지화** | | |
| 언어 지시 함수 추가 | ⏳ 대기 | getLanguageInstruction(lang) |
| 문화 컨텍스트 분기 | ⏳ 대기 | getCulturalContext(lang) |
| 언어별 예시 문장 | ⏳ 선택 | 톤/스타일 참고용 |
| **4. UI 컴포넌트 i18n 적용** | | |
| TarotInput.jsx | ⏳ 대기 | 하드코딩 한국어 제거 |
| DreamInput.jsx | ⏳ 대기 | t() 함수 적용 |
| FortuneInput.jsx | ⏳ 대기 | t() 함수 적용 |
| 기타 컴포넌트 | ⏳ 대기 | 전체 검토 필요 |
| **5. 지역별 특화 기능 (선택)** | | |
| 일본: 혈액형 점 | ⏳ 선택 | uranai 전통 |
| 인도: Vedic 차트 | ⏳ 선택 | Kundli 시스템 |
| 태국: 요일별 운세 | ⏳ 선택 | 불교 기반 |

**1페이지 진입을 위한 콘텐츠 공식:**
```
┌─────────────────────────────────────────────────────────────┐
│  검색 1페이지 콘텐츠 체크리스트                                │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ☐ 제목에 핵심 키워드 포함                                   │
│    예: "뱀꿈 해몽 - 뱀 나오는 꿈의 의미와 해석 총정리"        │
│                                                             │
│  ☐ 2,000자 이상 심층 콘텐츠                                  │
│    • 서론 (검색 의도 충족 약속)                               │
│    • 본론 (상세 설명, 예시, 이미지)                           │
│    • 결론 (요약 + CTA)                                       │
│                                                             │
│  ☐ 구조화된 포맷                                             │
│    • H1 > H2 > H3 계층 구조                                  │
│    • 목차 (Table of Contents)                                │
│    • 불릿 포인트, 표, 이미지                                  │
│                                                             │
│  ☐ 내부/외부 링크                                            │
│    • 관련 콘텐츠 3-5개 링크                                   │
│    • 권위 있는 외부 소스 인용                                 │
│                                                             │
│  ☐ Schema 마크업                                             │
│    • FAQ Schema (자주 묻는 질문)                              │
│    • HowTo Schema (방법 가이드)                               │
│    • Article Schema (블로그/가이드)                           │
│                                                             │
│  ☐ 사용자 참여 유도                                          │
│    • "지금 바로 AI 꿈 해몽 받기" CTA                          │
│    • 댓글/공유 기능                                           │
│    • 관련 리딩 추천                                           │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### Phase 21: 도파민 메시지 시스템 전면 개편 🎯 진행 중
> 분석 대기 시간을 기대감으로 전환 - "진짜 내 질문을 깊게 보고 있구나!" 심리 활용

**핵심 변경: 가짜 랜덤 팝업 → 진짜 맞춤형 기대감 빌딩**

| 작업 | 상태 | 비고 |
|------|------|------|
| **1. Haiku 도파민 메시지 선생성** | | |
| Haiku 모델 alias 변경 | ✅ 완료 | `claude-haiku-4-5` (자동 최신 스냅샷) |
| 도파민 메시지 프롬프트 개선 | ⏳ 대기 | Hook/Foreshadow 스타일만 생성 |
| 질문 맞춤 키워드 추출 (Haiku용) | ⏳ 대기 | 메시지 맞춤화에만 사용 (내부용) |
| emotionPhrase 복합 감정 표현 | ⏳ 대기 | "불안하지만 기대도 있어요" 스타일 |
| **2. 풀스크린 분석 오버레이** | | |
| AnalysisOverlay.jsx 개편 | ⏳ 대기 | 카드 선택과 동일한 풀스크린 스타일 |
| 타이핑 효과 구현 | ⏳ 대기 | 글자 단위 타이핑 애니메이션 |
| fade out → 다음 메시지 전환 | ⏳ 대기 | 부드러운 메시지 전환 |
| **3. 메시지 큐 시스템** | | |
| API 완료 이벤트 기반 제어 | ⏳ 대기 | 시간 기반 X, 완료 시 즉시 전환 |
| 메시지 소진 시 반복 로직 | ⏳ 대기 | 마지막 2-3개 메시지 반복 |
| 모든 메시지 질문 맞춤 | ⏳ 대기 | generic 메시지 완전 제거 |
| **4. 키워드 분리** | | |
| Haiku keywords: 도파민 맞춤용 | ⏳ 대기 | 내부용 (버려짐) |
| Sonnet keywords: 피드 해시태그용 | ✅ 완료 | 결과 페이지 해시태그 → 피드 필터 |
| **5. UI/UX 개선** | | |
| 타로 카드 영어 이름 표기 | ⏳ 대기 | 심판 → JUDGEMENT (카드 하단) |
| dopamine-prompt-guide.md 참고 | ⏳ 대기 | Hook/Foreshadow 톤 유지 |

**아키텍처:**
```
[리딩 시작 버튼 클릭]
         ↓
┌─────────────────────────────────────┐
│     동시 실행 (Parallel)              │
│                                      │
│  ① Haiku 4.5 호출 (0.5-1초)          │
│     → 도파민 메시지 10-15개 생성       │
│     → emotionPhrase 생성             │
│     → keywords (내부용)              │
│                                      │
│  ② Sonnet/Opus 호출 (2-3분)          │
│     → 메인 리딩 생성                  │
│     → keywords (피드용)              │
└─────────────────────────────────────┘
         ↓
[풀스크린 분석 화면]
도파민 메시지 타이핑 → fade out → 반복
         ↓
[Sonnet 완료] → 결과 화면 전환
```

**메시지 특성 (모두 질문 맞춤):**
| 순서 | 목적 | 예시 |
|------|------|------|
| 1-2 | Hook 프리뷰 (신비로운 진입) | "카드 속으로 들어가볼게요... 이번달 인연의 기운을 찾고 있어요" |
| 3-5 | 티저/반전 (호기심 증폭) | "엇, 예상 못한 장소에서 만날 수도..." |
| 6-8 | 구체적 힌트 | "이번달 중순쯤 뭔가 있어요" |
| 9-12 | Foreshadow (끝까지 봐야 하는 이유) | "마지막 카드가 확실한 답을 주고 있어요" |

---

### Phase 22: 브랜드 컬러 리브랜딩 🎨 대기
> `docs/jeomai-brand-color-system.md` 기반 전체 UI 컬러 개편

**참조 문서:** `docs/jeomai-brand-color-system.md` (완전한 브랜드 컬러 시스템 v2)

| 작업 | 상태 | 비고 |
|------|------|------|
| **1. 공통 요소** | | |
| 페이지 배경 Deep Space 적용 | ⏳ 대기 | `linear-gradient(165deg, #0a0a0f 0%, #12101a 30%, #0d0b14 60%, #08080c 100%)` |
| 상단 네비게이션 탭 재디자인 | ⏳ 대기 | 프리미엄 모달 토글 스타일 적용 |
| 모든 모달 배경 통일 | ⏳ 대기 | Modal Surface 적용 |
| **2. 타로 섹션** | | |
| 질문 입력 섹션 | ⏳ 대기 | Tarot Card Surface + Tarot Border |
| 카드 선택 섹션 | ⏳ 대기 | Mystic Violet Blue 그라디언트 적용 |
| 결과 페이지 hero/container | ⏳ 대기 | Blue-Purple 그라디언트 보더 |
| 결과 페이지 Select Your Destiny | ⏳ 대기 | Tarot 테마 glow + pulse |
| Hidden Insights 모달 | ⏳ 대기 | 하늘-보라 그라디언트, 은은한 glow |
| **3. 꿈해몽 섹션** | | |
| 꿈 입력 섹션 | ⏳ 대기 | Dream Card Surface + Dream Border |
| 결과 페이지 | ⏳ 대기 | Dreamy Teal 테마 적용 |
| Hidden Insights 모달 | ⏳ 대기 | Teal 테마 그라디언트 |
| **4. 사주 섹션** | | |
| 생년월일 입력 섹션 | ⏳ 대기 | Fortune Card Surface + Saju Border |
| 결과 페이지 | ⏳ 대기 | Fortune Fire 테마 적용 |
| Hidden Insights 모달 | ⏳ 대기 | Red-Gold 테마 그라디언트 |
| **5. 피드** | | |
| 좌측 사이드바 | ⏳ 대기 | Card Surface + 서브브랜드별 필터 색상 |
| 피드 카드 | ⏳ 대기 | 타입별 보더/글로우 색상 |
| 우측 사이드바 | ⏳ 대기 | 추천/인기 섹션 스타일 |
| **6. 프로필/마이페이지** | | |
| 프로필 설정 모달 | ⏳ 대기 | Modal + Gradient 적용 |
| 마이페이지 히스토리 | ⏳ 대기 | 서브브랜드별 카드 스타일 |
| 공개 설정 토글 | ⏳ 대기 | Premium 토글 스타일 적용 |
| **7. 프리미엄/울트라 모달** | | |
| border-radius 수정 | ⏳ 대기 | 모든 요소 `border-radius: 16px` 통일 |
| 월간/연간 버튼 수정 | ⏳ 대기 | border-radius 적용 |
| **8. 4개 박스 (프롬프트 가이드)** | | |
| 서브브랜드 컬러 적용 | ⏳ 대기 | Premium 모달 스타일 참고, Radial Gradient |
| **9. 로그인 모달** | | |
| 3가지 로그인 옵션 | ⏳ 대기 | Google, Apple, Email |
| Modal + Gradient 적용 | ⏳ 대기 | 깔끔한 UI |

**핵심 원칙:**
1. 탁한 색 절대 금지 (grayish, muted, desaturated)
2. 서브브랜드 컬러 일관성 유지
3. 그라디언트 보더 적극 활용
4. hover 시 glow 효과 강화
5. 창의적 variation 허용 (브랜드 팔레트 범위 내)

---

### Phase 23: UX 개선 및 피드 구조 개편 🔄 대기

#### 1. 공개 설정 실시간 반영 문제
> 타로 리딩 결과 페이지에서 비공개/링크 공유/전체 공개 설정 변경 시 프로필 관리 페이지와 연동은 되지만, 실시간 반영이 안 됨 (Ctrl+Shift+R 필요)

| 작업 | 상태 | 비고 |
|------|------|------|
| 공개 설정 변경 시 상태 즉시 업데이트 | ⏳ 대기 | React state 동기화 |
| 피드에서 실시간 제거/추가 반영 | ⏳ 대기 | useFeed 훅 연동 |

#### 2. 공개 설정 토글 CSS 피드백 부재
> 전체 공개 → 링크 공유 등 버튼 클릭 시 active 상태 CSS가 없어서 무반응처럼 보임

| 작업 | 상태 | 비고 |
|------|------|------|
| 공개 설정 버튼 active 스타일 추가 | ⏳ 대기 | 선택된 옵션 하이라이트 |
| 클릭 시 즉각적 시각 피드백 | ⏳ 대기 | transition, scale 등 |

#### 3. 익명성 안내 및 공개 인센티브
> 사용자가 공개 설정 시 닉네임으로 익명성이 보장된다는 점을 모름 → 공개 콘텐츠 부족

| 작업 | 상태 | 비고 |
|------|------|------|
| 공개 설정 영역에 익명성 안내 문구 | ⏳ 대기 | "닉네임으로 표시되어 익명이 보장돼요" |
| 프로필 설정 페이지 안내 | ⏳ 대기 | 닉네임 설정 중요성 강조 |
| 공개 시 혜택 안내 (인센티브) | ⏳ 대기 | "다른 사람들과 공유하고 반응 받기" 등 |

#### 4. 피드 구조 대개편: 개인 피드 중심
> 메인 센터 피드 = 내 리딩 전용 / 커뮤니티는 사이드바로 분리

| 작업 | 상태 | 비고 |
|------|------|------|
| 메인 피드 → 개인 리딩 히스토리로 변경 | ⏳ 대기 | 로그인 필수 |
| 프로필 관리에서 "리딩 관리" 섹션 제거 | ⏳ 대기 | 메인에서 관리 |
| 왼쪽 사이드바에 "커뮤니티" 탭 추가 | ⏳ 대기 | 주제별(타로/꿈/사주) 공개 리딩 |
| 마이페이지(view='my') 제거 | ⏳ 대기 | 프로필 설정만 모달로 |
| 타로 결과 → 뒤로가기 시 마이페이지 이동 제거 | ⏳ 대기 | 피드로 이동 |

#### 5. 프로필 관리 페이지 간소화
> 리딩 관리가 메인 피드로 이동하므로 프로필 설정만 남김

| 작업 | 상태 | 비고 |
|------|------|------|
| 프로필 설정 모달로 전환 | ⏳ 대기 | 닉네임, 프로필 사진, 알림 등 |
| 불필요한 섹션 제거 | ⏳ 대기 | 간결한 UI |

#### 6. 꿈 빈 피드 문구 수정

| 작업 | 상태 | 비고 |
|------|------|------|
| "첫 번째로 꿈을 공유해보세요!" → "어젯밤 꿈을 풀어보세요!" | ⏳ 대기 | FeedView.jsx |

#### 7. 닉네임 시스템 완성
> 공개 시 실명 대신 닉네임으로 표시

| 작업 | 상태 | 비고 |
|------|------|------|
| 피드에서 userName → nickname 치환 | ⏳ 대기 | isPublic일 때만 |
| 댓글에서도 닉네임 표시 | ⏳ 대기 | |
| 이메일 전용 사용자 기본 아바타 | ✅ 완료 | 첫글자 동그라미 구현됨 |

#### 8. 모바일 최적화 확인
> 오늘 작업한 내용들이 모바일에서 잘 표시되는지 검증

| 작업 | 상태 | 비고 |
|------|------|------|
| AuthModal 모바일 레이아웃 | ⏳ 대기 | 하단 시트 스타일 |
| PremiumModal 모바일 레이아웃 | ⏳ 대기 | 스크롤, 버튼 크기 |
| NavBar 프로필 아바타 | ⏳ 대기 | 첫글자 동그라미 |
| 공개 설정 토글 터치 피드백 | ⏳ 대기 | 모바일 tap 반응 |

### Phase 24: 커뮤니티 피드 시스템 대개편 🔥 진행 중
> 참여형 커뮤니티 + 모바일 퍼스트 + 개인정보 보호 강화

**핵심 변경사항:**
- 나이 정보 리딩에서 제거 (프라이버시)
- 모바일 퍼스트 개발 원칙 (CLAUDE.md 반영 완료)
- 하단 네비게이션 재구성
- Visibility 간소화 (unlisted 제거)
- 참여 시스템 도입

#### Phase 24.1: 기반 정리 ✅ 부분 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| AI 프롬프트에서 나이 제거 | ✅ 완료 | useReading.js - 프라이버시 보호 |
| CLAUDE.md 모바일 퍼스트 규칙 추가 | ✅ 완료 | 375px~ 기준, 터치 친화적 |
| MyPage "무료 리딩" 섹션 삭제 | ⏳ 대기 | 계정 섹션에서 제거 |
| visibility에서 unlisted 제거 | ⏳ 대기 | useFirebaseSave.js 수정 |
| 기본 visibility = public (질문 공개) | ⏳ 대기 | 결과만 비공개 가능 |

#### Phase 24.2: 하단 네비게이션 개편 ✅ 완료
> 홈(🏠) → 탐색(🔥) → 시작(✨) → 피드(📰) → 마이(👤)
> ↓
> 커뮤니티(모드별🔮🌙☀️) → 인기 리딩(🔥) → 시작(모드별🔮🌙☀️) → 내 리딩(💜) → 프로필(👤)

| 작업 | 상태 | 비고 |
|------|------|------|
| 네비 라벨/이모지 변경 | ✅ 완료 | 커뮤니티(모드별)/인기 리딩(🔥)/시작(모드별)/내 리딩(💜)/프로필(👤) |
| 시작 버튼 모드별 이모지 | ✅ 완료 | 타로🔮/꿈🌙/사주☀️ + 틸트 애니메이션 (Phase 25) |
| 홈 → 커뮤니티 (모드별 이모지) | ✅ 완료 | 라벨 "커뮤니티"로 통일, 이모지는 모드에 따라 변경 |
| 피드 → 내 리딩 (💜) | ✅ 완료 | 내 기록 전용 |
| 마이 → 프로필 (👤) | ✅ 완료 | 라벨/이모지 변경 |
| 탐색 → 인기 리딩 (🔥) | ✅ 완료 | 라벨 변경 |
| 마이페이지에서 리딩 기록 제거 | ⏳ 대기 | 리딩 탭으로 이동 |
| 7개 카테고리 필터 적용 | ⏳ 대기 | 💕사랑 🙌관계 💰돈 🌱성장 💪건강 ⚖️선택 🔮운세 |
| 친구 초대/의견 보내기 하단 이동 | ⏳ 대기 | MyPage 재배치 |

#### Phase 24.3: Visibility 간소화 ⏳ 대기
> 질문은 항상 공개, 결과만 비공개 가능

| 작업 | 상태 | 비고 |
|------|------|------|
| unlisted 옵션 제거 | ⏳ 대기 | public / private 만 유지 |
| 비공개 시 보이는 영역 정의 | ⏳ 대기 | hero image + question + hook + foreshadow |
| 비공개 시 숨기는 영역 정의 | ⏳ 대기 | persona card sticky 이하 전체 |
| TarotResultView 조건부 렌더링 | ⏳ 대기 | isPublic 기반 분기 |
| 공개 토글 위치 변경 | ⏳ 대기 | floating → engagement 댓글 위 |

#### Phase 24.4: 참여 시스템 (타로 먼저) ⏳ 대기
> "나도 같은 질문으로 타로보기" - 커뮤니티 참여 유도

| 작업 | 상태 | 비고 |
|------|------|------|
| "나도 같은 질문으로 타로보기" floating CTA | ⏳ 대기 | 타로 결과 페이지 |
| 질문 스킵 → 바로 카드 선택 | ⏳ 대기 | originalQuestion 전달 |
| Firebase 스키마 추가 | ⏳ 대기 | isParticipation, originalReadingId, participationCount |
| 참여 리딩 → 메인 피드 제외 | ⏳ 대기 | 중복 방지 필터링 |
| 참여 리딩 요약 → 원본 댓글로 | ⏳ 대기 | title + hook + foreshadow 자동 게시 |
| participationCount 표시 | ⏳ 대기 | 좋아요 옆에 동일 크기로 |
| 원본 삭제 시 처리 | ⏳ 대기 | **[확인 필요]** 유지? 삭제? |

#### Phase 24.5: 인기 탭 구현 ⏳ 대기
> Reddit 스타일 engagement 기반 정렬

| 작업 | 상태 | 비고 |
|------|------|------|
| PopularView 컴포넌트 생성 | ⏳ 대기 | 새 뷰 |
| engagement score 계산 | ⏳ 대기 | 좋아요 + 참여수 + 댓글수 가중치 |
| 트렌딩 질문 섹션 | ⏳ 대기 | 이번 주 인기 질문 TOP 5 |
| 정렬 옵션 | ⏳ 대기 | 인기순 / 최신순 / 참여많은순 |

#### Phase 24.6: 꿈/사주 모드 대응 ⏳ 대기
> 모드별 참여 방식 차별화 **[확인 필요]**

| 작업 | 상태 | 비고 |
|------|------|------|
| 타로: "나도 같은 질문으로 타로보기" | ⏳ 대기 | 질문 복사 → 카드 선택 |
| 꿈: **[확인 필요]** | ⏳ 대기 | "비슷한 꿈 꿨어요" 버튼? 댓글 공유? |
| 사주: **[확인 필요]** | ⏳ 대기 | 참여 제외? "도움됐어요" 피드백만? |

#### Phase 24.7: 추가 기능 ⏳ 대기
| 작업 | 상태 | 비고 |
|------|------|------|
| 5개 이모지 리액션 시스템 | ✅ 완료 | 😱소름 🎯적중 🥺공감 🔥대박 🫂위로 |
| Firebase 리액션 연동 | ✅ 완료 | useComments 확장, Reactions 컴포넌트 |
| TarotResultView 리액션 UI | ✅ 완료 | engagement panel에 추가 |
| 참여 알림 시스템 | ⏳ 대기 | "누군가 당신의 질문으로 리딩을 봤어요!" |
| 익명 질문 옵션 | ⏳ 대기 | 닉네임 대신 "익명" 표시 |

**확인 필요 사항 (구현 전 결정):**
1. 참여 리딩 visibility: 기본 공개? 선택 가능?
2. 꿈해몽 참여 방식: "비슷한 꿈 꿨어요" 적절한지?
3. 사주 참여 방식: 참여 제외하고 피드백만?
4. 원본 삭제 시 참여 리딩: 유지? 같이 삭제?
5. 인기 탭 정렬 가중치: 좋아요:참여:댓글 비율?

---

### Phase 25: UI/UX 폴리싱 & 브랜딩 ✅ 완료
> 일관성 있는 모드별 테마, 질문형 UX, 브랜드 아이덴티티

#### Phase 25.1: 모드별 테마 일관성 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| 모드별 헤딩 그라디언트 | ✅ 완료 | toggle button 활성 색상과 동일 (tarot: 라벤더, dream: 민트, fortune: 피치) |
| 모드별 textarea focus 스타일 | ✅ 완료 | 모드별 테마 색상 border + box-shadow |
| 모드별 시작 버튼 그라디언트 | ✅ 완료 | BottomNav center button 모드별 색상 |
| Fortune placeholder 색상 | ✅ 완료 | 같은 노랑 계열 opacity 낮춤 (황토색→노랑) |

#### Phase 25.2: 입력 UI 통일 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| 헤딩 질문형 통일 | ✅ 완료 | 타로: "무엇이 궁금하세요?" 등, 꿈: "어젯밤 무슨 꿈 꾸셨어요?" 등, 사주: "운명의 지도를 펼쳐볼까요?" 등 |
| 버튼 라벨 간결화 | ✅ 완료 | 카드 뽑기 / 꿈 풀기 / 사주 보기 |
| Fortune input 재설계 | ✅ 완료 | dropdown 제거, 항상 textarea 표시, 랜덤 placeholder |
| Fortune 프로필 인라인 | ✅ 완료 | "내 정보: 홍길동 · 남 · 1990.01.01 ✎" 형태 |
| Fortune 프로필 스타일링 | ✅ 완료 | 같은 노랑 계열 opacity 구분, 연필 아이콘 텍스트 스타일 |

#### Phase 25.3: 모바일 네비게이션 애니메이션 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| 시작 버튼 이모지 틸트 | ✅ 완료 | emojiTilt 애니메이션 (±10° 회전, 수정구슬 스타일) |
| 동그라미 배경 static 유지 | ✅ 완료 | 이모지만 애니메이션, 원형 배경은 고정 |

#### Phase 25.4: 브랜드 아이덴티티 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| 브라우저 타이틀 변경 | ✅ 완료 | "점AI - 마음이 궁금할 때" |
| 스플래시 태그라인 추가 | ✅ 완료 | "마음이 궁금할 때" + 반짝이는 ✦ 데코 |
| 태그라인 스타일링 | ✅ 완료 | 1.1rem, 0.5s delay, sparkle 애니메이션 |

#### Phase 25.5: 기타 UI 개선 ✅ 완료
| 작업 | 상태 | 비고 |
|------|------|------|
| Orb glow 줄이기 | ✅ 완료 | 더 subtle한 효과 |
| 프로필 모달 가로 스크롤 수정 | ✅ 완료 | overflow-x: hidden, flex: 1 1 0 |
| Fortune 모바일 padding 제거 | ✅ 완료 | padding: 0 |
| Textarea focus border 일관성 | ✅ 완료 | 1px 유지 (두꺼워지지 않음) |

---

## AI Tier System 상세 설계

### 현재 구조 분석
```
현재 (단일 티어):
├── 텍스트: Claude Sonnet 4.5 (claude-sonnet-4-5)
├── 이미지: Gemini 2.0 Flash (gemini-2.0-flash-exp)
├── 키워드: 텍스트와 함께 생성 (Sonnet 4.5)
└── 모든 사용자 동일 품질
```

### 새로운 구조 (Tiered System) - v4 (3티어 시스템)
```
┌─────────────────────────────────────────────────────────────┐
│              AI MODEL TIER SYSTEM (v4 - 3티어)               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  핵심 원칙: 기능 해금 → AI 품질 업그레이드 분리!            │
│  무료 → 프리미엄: 기능 해금 (같은 AI)                       │
│  프리미엄 → 울트라: AI 품질 업그레이드 (소름돋는 통찰)      │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  🆓 FREE TIER (무료)                                 │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │  텍스트 AI    : Claude Sonnet 4.5 (정확한 해석)      │   │
│  │  이미지 AI    : Gemini 2.0 Flash (HD)               │   │
│  │                                                      │   │
│  │  제한:                                               │   │
│  │  • 꿈/타로/사주: 주 3회                              │   │
│  │  • Hidden Insight: 블러 처리                         │   │
│  │  • 심층 분석: 잠김                                   │   │
│  │  • 히스토리: 최근 3개                                │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  💎 PREMIUM TIER (프리미엄) - ₩6,900/월              │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │  텍스트 AI    : Claude Sonnet 4.5 (깊이 있는 해석)   │   │
│  │  이미지 AI    : Gemini 3 Pro Preview (HD)           │   │
│  │                                                      │   │
│  │  해금:                                               │   │
│  │  • 무제한 사용                                       │   │
│  │  • Hidden Insight 전체 공개                          │   │
│  │  • 심층 분석 열림                                    │   │
│  │  • 히스토리 무제한                                   │   │
│  │  • 맞춤 질문 자유 입력                               │   │
│  │  • HD 이미지 (Gemini 3 Pro)                         │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  ✨ ULTRA TIER (울트라) - ₩9,900/월                  │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │  텍스트 AI    : Claude Opus 4.5 (소름돋는 통찰!)     │   │
│  │  이미지 AI    : Gemini 3 Pro Preview (HD)           │   │
│  │                                                      │   │
│  │  프리미엄 모든 기능 +                                │   │
│  │  • 소름돋는 깊이의 해석                              │   │
│  │  • 당신만 몰랐던 통찰                                │   │
│  │  • 더 섬세한 맞춤 분석                               │   │
│  │  • 특별한 인사이트                                   │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 핵심 설계 원칙 (v4 - 3티어 시스템)

```
┌─────────────────────────────────────────────────────────────┐
│  핵심: "기능 해금"과 "AI 품질 업그레이드" 분리!              │
│                                                             │
│  무료 → 프리미엄: 기능 해금 (같은 AI)                       │
│  프리미엄 → 울트라: AI 품질 업그레이드 (소름돋는 통찰)      │
└─────────────────────────────────────────────────────────────┘

1. 텍스트 AI 티어 구조
   ─────────────────────────────────────────────────
   Free/Premium: Claude Sonnet 4.5 (정확한/깊이 있는 해석)
   Ultra: Claude Opus 4.5 (소름돋는 통찰!)

   → 무료/프리미엄: Sonnet으로 "와 좋다" 경험
   → 울트라: Opus로 "이건 차원이 다르다" 압도
   → 기능 해금 후 AI 업그레이드 = 자연스러운 업셀링

2. 이미지 AI 티어 구조
   ─────────────────────────
   Free: Gemini 2.0 Flash (HD)
   Premium/Ultra: Gemini 3 Pro Preview (HD)

   ※ 이미지는 모두 HD (Ultra HD는 오버킬)
   ※ IMAGE_CONFIG: 리딩 16:9, 내보내기 1:1

3. 프리미엄 차별화 (기능 해금)
   ─────────────────────────
   • Hidden Insight 전체 공개 (블러 해제)
   • 심층 분석 해금
   • 무제한 사용
   • 히스토리 무제한
   • 맞춤 질문 자유 입력
   → "숨겨진 메시지 보고 싶다" 니즈 해결

4. 울트라 차별화 (AI 품질)
   ─────────────────────────
   • 프리미엄 모든 기능 +
   • 소름돋는 깊이의 해석 (Opus 4.5)
   • 당신만 몰랐던 통찰
   • 더 섬세한 맞춤 분석
   → "더 소름돋는 해석 원한다" 니즈 해결

5. 감성적 문구 (기술 용어 숨김)
   ─────────────────────────
   ❌ "Opus 4.5로 업그레이드!"
   ✅ "소름돋는 통찰이 기다려요"

   ❌ "Sonnet 4.5 (고품질)"
   ✅ "정확한 해석" / "깊이 있는 해석"

6. 가격 전략
   ─────────────────────────
   프리미엄: ₩6,900/월 (92% 마진!)
   울트라: ₩9,900/월 (65% 마진)
   1회권: ₩1,900 / ₩2,900

7. 광고 전략
   ─────────────────────────
   초반: 광고 없음 (프리미엄 느낌 유지)
   나중에 넣는다면: 꿈 라이브러리 섹션에 네이티브 광고
   절대 금지: 리딩 로딩 중 인터스티셜 (분위기 파괴)

8. 수익화 모델 고민 (향후 검토)
   ─────────────────────────

   📍 광고 배치 고민:
   - 리딩 결과 페이지 중간중간에 광고 넣을지?
   - 광고 없이 쓰려면 요금제를 어떻게?

   📍 무료/유료 경계 고민:
   - 피드/인기 리딩 세팅 후: 리딩 "참여"는 무료
   - 내 맞춤 질문 프롬프트 사용: 무료에서 주 제한?
   - 무료 유저는 피드 리딩 참여만 가능, 커스텀 질문은 주 N회?

   📍 결정 필요 사항:
   - 무료 유저의 리딩 참여 무제한 vs 제한
   - 광고 vs 프리미엄 전용 (광고 없음) 균형
   - 피드 리딩 참여와 커스텀 질문 분리 여부
```

### 기술 구현 (v4 - 3티어 시스템)

```javascript
// src/utils/aiConfig.js

export const AI_MODELS = {
  // 텍스트 분석 모델 (3티어!)
  text: {
    free: 'claude-sonnet-4-5',       // 정확한 해석
    premium: 'claude-sonnet-4-5',    // 깊이 있는 해석 (기능 해금)
    ultra: 'claude-opus-4-5'         // 소름돋는 통찰!
  },

  // 키워드 생성 (Sonnet 고정 - SEO 품질 보장)
  keywords: 'claude-sonnet-4-5',

  // 이미지 생성 (티어별 차등)
  image: {
    free: 'gemini-2.0-flash-exp',       // HD (무료)
    premium: 'gemini-3-pro-image-preview', // HD (프리미엄)
    ultra: 'gemini-3-pro-image-preview'    // HD (울트라)
  }
};

// Gemini 3 Pro Image 설정
export const IMAGE_CONFIG = {
  reading: { aspectRatio: '16:9', imageSize: 'HD' },  // 리딩 결과
  export: { aspectRatio: '1:1', imageSize: 'HD' }    // 내보내기용
};

export const getModelConfig = (tier = 'free') => {
  const isPremium = tier === 'premium' || tier === 'ultra';
  const isUltra = tier === 'ultra';

  return {
    textModel: AI_MODELS.text[tier] || AI_MODELS.text.free,
    keywordModel: AI_MODELS.keywords,
    imageModel: AI_MODELS.image[tier] || AI_MODELS.image.free,
    promptStyle: 'mrBeastDopamine',

    // 분석 깊이
    analysisDepth: isUltra ? 'ultra' : (isPremium ? 'deep' : 'basic'),
    maxTokens: isUltra ? 8000 : (isPremium ? 6000 : 4000),

    // 콘텐츠 접근 권한
    hasHiddenInsight: isPremium,      // 프리미엄+ 해금
    hasDetailedAnalysis: isPremium,   // 프리미엄+ 해금
    hasUltraInsight: isUltra,         // 울트라만

    tier, isPremium, isUltra
  };
};
```

### 프롬프트 전략 (수정됨)

```javascript
// 모든 티어: MrBeast 도파민 프롬프트 (동일)
// → 무료도 좋은 경험 제공
// → 차별화는 콘텐츠 접근/사용량으로

const getMrBeastPrompt = (dreamContent, userName) => `
${dreamContent}에 대한 꿈 해석을 JSON으로 제공하세요.
${userName}님을 위한 개인화된 분석을 작성하세요.

구조:
1. Hook: 핵심 의미 먼저 + 반전 ("나쁜 꿈 아니에요. 오히려...")
2. Foreshadow: 못 보면 잠 못 잠 ("숨겨진 메시지가 있어요...")
3. Keywords: 각 상징 5-7문장 깊이 분석
4. Bonus: 예상치 못한 추가 인사이트 ("이건 안 물어봤는데...")
5. Twist: 반전 메시지 (문장 끝 반전 필수)
6. Hidden Insight: 4-6문장 봉인 해제 메시지 ← 무료는 블러!

// 무료 티어: Hidden Insight, 심층 분석 블러/잠금으로 차별화
// 프리미엄 티어: 모든 콘텐츠 해금

{
  "title": "흥미로운 제목",
  "summary": "호기심 유발 요약",
  "interpretations": [
    {"title": "Hook 해석", "content": "4-5문장, 흥미롭게"},
    {"title": "심층 해석", "content": "4-5문장"},
    {"title": "반전 해석", "content": "4-5문장, Twist"},
    {"title": "보너스 해석", "content": "4-5문장"},
    {"title": "개인 맞춤", "content": "${userName}님에게 특별히..."}
  ],
  "hiddenInsight": "5-7문장의 가장 깊은 숨겨진 의미",
  "personalAdvice": "${userName}님을 위한 조언",
  "luckyColor": "행운의 색",
  "luckyNumber": 7,
  "luckyDay": "행운의 요일"
}
`;
```

### 사용자 비교 UI (v3 - Opus 업그레이드)

```
┌─────────────────────────────────────────────────────────────┐
│               🆓 무료 vs ✨ 프리미엄 비교                    │
├─────────────────────┬───────────────────────────────────────┤
│                     │                                       │
│  🆓 무료 리딩        │  ✨ 프리미엄 리딩                      │
│  ────────────       │  ──────────────                       │
│                     │                                       │
│  🧠 고품질 AI        │  🧠 최상위 AI ⭐                       │
│    (Sonnet 4.5)     │    (Opus 4.5)                         │
│                     │                                       │
│  📚 심층 해석 5가지   │  📚 더 깊은 해석 5가지                 │
│                     │     + Opus의 섬세한 통찰               │
│                     │                                       │
│  🔒 Hidden Insight   │  ✅ Hidden Insight 해금               │
│     (블러+힌트)       │                                       │
│                     │                                       │
│  🔒 심층 분석 잠금    │  ✅ 심층 분석 해금                     │
│                     │                                       │
│  🖼️ HD 이미지       │  🖼️ Ultra HD 이미지                   │
│    (Gemini Flash)   │    (Gemini 3 Pro)                     │
│                     │                                       │
│  📚 히스토리 3개     │  📚 히스토리 무제한                    │
│                     │                                       │
│  ❓ 템플릿 질문만    │  ✅ 맞춤 질문 자유 입력                │
│                     │                                       │
│  ❌ 패턴 분석        │  ✅ 꿈/타로 패턴 분석                  │
│                     │                                       │
│  ❌ 사주 궁합        │  ✅ 궁합/연간운세                      │
│                     │                                       │
│  주 3회 제한         │  무제한 사용                          │
│                     │                                       │
│  ─────────────      │  ─────────────                        │
│  "와 이거 좋다"       │  "이건 차원이 다르다"                  │
│  Sonnet으로 시작!    │  Opus로 압도!                         │
│                     │                                       │
└─────────────────────┴───────────────────────────────────────┘
```

### 비용 분석 (v4 - 3티어 시스템)

```
API 호출당 예상 비용 (2025년 기준):

Free Tier (1회 리딩):
├── Sonnet 4.5 텍스트+키워드: ~$0.008
├── Gemini 2.0 Flash 이미지: ~$0.002
└── 총: ~$0.010 (~14원)

Premium Tier (1회 리딩):
├── Sonnet 4.5 텍스트: ~$0.008
├── Sonnet 4.5 키워드: ~$0.003
├── Gemini 3 Pro 이미지: ~$0.005
└── 총: ~$0.016 (~22원)

Ultra Tier (1회 리딩):
├── Opus 4.5 텍스트: ~$0.075 (Sonnet 대비 약 9배)
├── Sonnet 4.5 키워드: ~$0.003
├── Gemini 3 Pro 이미지: ~$0.005
└── 총: ~$0.083 (~115원)

수익성 분석 (3티어):
─────────────────────
• Free: 하루 1회 × 30일 × 14원 = 420원/월 (비용만)

• Premium (₩6,900/월):
  30회/월 × 22원 = 660원 비용 → 90%+ 마진! 💰

• Ultra (₩9,900/월):
  30회/월 × 115원 = 3,450원 비용 → 65% 마진

※ 3티어 전략의 장점:
   - 프리미엄: 고마진으로 안정적 수익
   - 울트라: 파워유저 수익화
   - 프리미엄이 주력, 울트라는 업셀링
```

---

## 핵심 철학: Pieter Levels식 pSEO

### 원칙
1. **모든 페이지는 유용해야 한다** - 빈 페이지, 의미없는 페이지 금지
2. **검색 의도(Search Intent)를 만족시켜야 한다** - 사용자가 원하는 정보 제공
3. **Win-Win 구조** - 사용자는 가치를 얻고, 플랫폼은 트래픽을 얻는다
4. **데이터 → 페이지 자동화** - 모든 유의미한 데이터가 검색 가능한 페이지가 된다

### 우리 서비스에 적용
```
RemoteOK 방식              →  Dream Storybook 적용
─────────────────────────────────────────────────────
회사별 채용 페이지          →  태그별 콘텐츠 페이지 (/tag/뱀)
구직자 프로필 페이지        →  사용자 공개 프로필 (/user/{id})
직업 카테고리 페이지        →  콘텐츠 타입 페이지 (/dreams, /tarots, /saju)
도시별 페이지 (NomadList)   →  카테고리별 페이지 (/dreams/category/animal)
```

---

## 1. 통합 태그/카테고리 시스템 (Master Architecture)

### 문제점: 현재 분산된 시스템
```
현재 (복잡하고 비효율적):
├── 꿈: keywords[], dreamType, DREAM_CATEGORIES
├── 타로: keywords[], topic, TAROT_CATEGORIES
├── 사주: keywords[], SAJU_CATEGORIES
└── 각각 따로 놀고, 연결 안 됨
```

### 해결: 통합 태그 시스템
```
새로운 구조 (심플하고 유기적):
├── 모든 콘텐츠 → tags[] 배열로 통일
├── 태그 = 카테고리 = 상징 = 키워드 (모두 하나의 시스템)
└── 타입(dream/tarot/saju)으로만 구분
```

### Firebase 구조

```javascript
// 콘텐츠 저장 구조 (통일)
dreams/{id} | tarots/{id} | sajus/{id}
{
  // 기본 정보
  type: "dream" | "tarot" | "saju",
  title: "뱀에게 쫓기는 꿈",

  // 통합 태그 시스템 (핵심!)
  tags: ["뱀", "공포", "도망", "변화", "동물"],
  primaryTag: "뱀",  // 대표 태그 (SEO용)

  // 공개 설정 (통일)
  visibility: "private" | "unlisted" | "public",
  isAnonymous: false,  // 공개 시 익명 여부

  // 메타
  userId: "xxx",
  userName: "꿈꾸는자" | "익명",
  createdAt: Timestamp,

  // ... 기존 콘텐츠 데이터
}

// 태그 집계 컬렉션
tags/{tagName}
{
  name: "뱀",
  slug: "snake",  // URL용

  // 타입별 카운트
  totalCount: 234,
  dreamCount: 156,
  tarotCount: 67,
  sajuCount: 11,

  // SEO 메타데이터
  seoTitle: "뱀 꿈해몽 - 뱀 꿈 의미와 해석",
  seoDescription: "뱀이 나오는 꿈의 의미를 알아보세요...",

  // 관련 태그 (자동 집계)
  relatedTags: ["동물", "공포", "변화", "재물"],

  // 통계
  weeklyCount: 23,  // 트렌딩 계산용
  updatedAt: Timestamp
}
```

### 태그 자동 분류 체계

```javascript
// 태그 카테고리 (내부 관리용, 사용자에겐 보이지 않음)
const TAG_HIERARCHY = {
  // 꿈 중심 태그
  animals: ["뱀", "호랑이", "개", "고양이", "용", "물고기", "새"],
  nature: ["물", "불", "바다", "산", "하늘", "비", "눈"],
  people: ["가족", "엄마", "아빠", "친구", "연인", "돌아가신분"],
  actions: ["날다", "떨어지다", "쫓기다", "죽다", "울다"],
  places: ["집", "학교", "회사", "병원", "엘리베이터"],
  emotions: ["무서운", "행복한", "슬픈", "불안한"],

  // 타로/사주 중심 태그
  topics: ["연애", "직장", "재물", "건강", "학업", "인간관계"],
  timing: ["오늘", "이번주", "이번달", "올해"],

  // 공통 상징
  symbols: ["변화", "시작", "끝", "기회", "위험", "성공", "실패"]
};
```

---

## 2. URL 구조 및 pSEO 페이지

### 라우팅 맵

```
메인 페이지
/                                 → 앱 메인

태그 시스템 (핵심 pSEO)
/tag/{tagName}                    → 통합 태그 페이지
/tag/{tagName}?type=dream         → 꿈만 필터
/tag/{tagName}?type=tarot         → 타로만 필터
/tag/{tagName}?type=saju          → 사주만 필터
/tags                             → 전체 태그 탐색 (인기순)
/tags/trending                    → 트렌딩 태그

콘텐츠 타입별 목록 (pSEO)
/dreams                           → 꿈해몽 전체
/dreams/category/{category}       → 동물꿈, 자연꿈 등
/tarots                           → 타로 전체
/tarots/category/{category}       → 연애타로, 직장타로 등
/saju                             → 사주 전체
/saju/category/{category}         → 카테고리별

개별 콘텐츠 (pSEO)
/dream/{id}                       → 개별 꿈 페이지
/tarot/{id}                       → 개별 타로 페이지
/saju/{id}                        → 개별 사주 페이지

사용자 프로필 (pSEO)
/user/{userId}                    → 공개 프로필 (공개 콘텐츠만)
```

### 페이지별 SEO 전략

```
/tag/뱀 페이지 예시:
─────────────────────
Title: 뱀 꿈해몽 & 타로 - 뱀의 의미와 해석 | 꿈 스토리북
Description: 뱀이 나오는 꿈의 의미, 뱀 관련 타로 리딩을 확인하세요.
            156개의 뱀 꿈 해석과 67개의 타로 리딩이 있습니다.
H1: #뱀 - 꿈과 타로에서의 의미
Keywords: 뱀꿈, 뱀꿈해몽, 뱀나오는꿈, 뱀타로, 뱀의미

Structured Data (JSON-LD):
{
  "@type": "CollectionPage",
  "name": "뱀 관련 꿈해몽 & 타로",
  "description": "...",
  "numberOfItems": 234
}
```

---

## 3. 공개 설정 시스템 (통합)

### 3단계 공개 설정

```
┌─────────────────────────────────────────────────────────────┐
│  저장 시 공개 설정 (모든 콘텐츠 동일)                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  🔒 나만 보기 (기본값)                                │   │
│  │                                                      │   │
│  │  • 내 마이페이지에서만 보임                           │   │
│  │  • 검색/태그 페이지에 노출 안됨                       │   │
│  │  • pSEO 대상 아님                                    │   │
│  │  • 링크 공유 불가                                    │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  🔗 링크 공유 가능 (Unlisted)                         │   │
│  │                                                      │   │
│  │  • 링크 아는 사람만 접근 가능                         │   │
│  │  • 검색/태그 페이지에 노출 안됨                       │   │
│  │  • pSEO 대상 아님 (noindex)                          │   │
│  │  • 카카오톡 등 공유 가능                              │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  🌐 커뮤니티에 공개                                   │   │
│  │                                                      │   │
│  │  • 피드에 노출                                       │   │
│  │  • 태그 페이지에 노출                                 │   │
│  │  • 검색엔진 크롤링 대상 (pSEO)                        │   │
│  │  • ☑️ 익명으로 공개 (선택)                            │   │
│  │       → 작성자: "익명의 꿈꾸는 자"                    │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 공개 설정 UI 컴포넌트

```jsx
// 저장 모달에 통합
<VisibilitySelector
  value={visibility}
  onChange={setVisibility}
  options={[
    {
      value: 'private',
      icon: '🔒',
      label: '나만 보기',
      description: '내 마이페이지에서만 확인'
    },
    {
      value: 'unlisted',
      icon: '🔗',
      label: '링크로 공유',
      description: '링크 아는 사람만 볼 수 있음'
    },
    {
      value: 'public',
      icon: '🌐',
      label: '커뮤니티에 공개',
      description: '모든 사람이 볼 수 있음',
      extra: (
        <label>
          <input type="checkbox" /> 익명으로 공개
        </label>
      )
    }
  ]}
/>
```

---

## 4. 결제 시스템 전략

### 가격 구조 (v4 - 3티어 시스템)

```
┌─────────────────────────────────────────────────────────────┐
│  수익화 모델 (v4 - 3티어)                                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🆓 무료 (Free)                                              │
│  ──────────                                                 │
│  • AI: Claude Sonnet 4.5 (정확한 해석)                      │
│  • 꿈/타로/사주: 각 주 3회                                  │
│  • HD 이미지 (Gemini Flash)                                 │
│  • Hidden Insight: 블러 처리                                │
│  • 심층 분석: 잠김                                          │
│  • 히스토리: 최근 3개                                       │
│                                                             │
│  ─────────────────────────────────────────────────────────  │
│                                                             │
│  💎 프리미엄 (Premium)                                       │
│  ─────────────────                                          │
│  월간: ₩6,900/월                                            │
│  연간: ₩55,000/년 (월 ₩4,583, 33% 할인)                     │
│  1회권: ₩1,900                                              │
│                                                             │
│  • AI: Claude Sonnet 4.5 (깊이 있는 해석)                   │
│  • 이미지: Gemini Pro (Ultra HD)                            │
│  • 무제한 사용                                               │
│  • Hidden Insight 전체 공개                                  │
│  • 심층 분석 열림                                            │
│  • 히스토리 무제한                                           │
│  • 맞춤 질문 자유 입력                                       │
│                                                             │
│  ─────────────────────────────────────────────────────────  │
│                                                             │
│  ✨ 울트라 (Ultra)                                           │
│  ─────────────────                                          │
│  월간: ₩9,900/월                                            │
│  연간: ₩79,000/년 (월 ₩6,583, 33% 할인)                     │
│  1회권: ₩2,900                                              │
│                                                             │
│  • AI: Claude Opus 4.5 (소름돋는 통찰!)                     │
│  • 프리미엄 모든 기능 +                                      │
│  • 소름돋는 깊이의 해석                                      │
│  • 당신만 몰랐던 통찰                                        │
│  • 더 섬세한 맞춤 분석                                       │
│  • Ultra HD 이미지 (Gemini 3 Pro Preview)                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 가격 전략 (v4 - 3티어)

```
3티어 전략의 핵심:
───────────────────────
• 프리미엄: 기능 해금에 집중 (AI 동일)
  → "숨겨진 메시지 보고 싶다" 니즈 해결
  → 낮은 가격 (₩6,900)으로 진입 장벽 낮춤

• 울트라: AI 품질 업그레이드
  → "더 소름돋는 해석 원한다" 니즈 해결
  → 프리미엄 대비 +₩3,000 업셀링

마진 분석:
───────────────────────
프리미엄 (₩6,900, Sonnet + Gemini Pro):
• 30회/월: 540원 비용 → 92% 마진! (고수익)

울트라 (₩9,900, Opus + Gemini Pro):
• 30회/월: 3,450원 비용 → 65% 마진

1회권 전략:
───────────────────────
• 프리미엄 1회: ₩1,900 → 4회면 구독이 이득
• 울트라 1회: ₩2,900 → 4회면 구독이 이득
• 라이트 유저도 수익화 가능
```

### 무료 vs 프리미엄 비교 모달 (v3 - Opus 업그레이드)

```
┌─────────────────────────────────────────────────────────────┐
│                 ✨ Opus 4.5로 업그레이드                      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  "당신의 숨겨진 두려움과 관련된 메시지가 있습니다"            │
│                                                             │
│  ┌─────────────────────┬─────────────────────┐              │
│  │      🆓 무료         │    ✨ 프리미엄       │              │
│  ├─────────────────────┼─────────────────────┤              │
│  │                     │                     │              │
│  │  🧠 Sonnet 4.5      │  🧠 Opus 4.5 ⭐      │              │
│  │  (고품질)           │  (최상위!)           │              │
│  │                     │                     │              │
│  ├─────────────────────┼─────────────────────┤              │
│  │  🔒 Hidden Insight   │  ✅ Hidden Insight   │              │
│  │     (블러+힌트)       │     (완전 해금)      │              │
│  ├─────────────────────┼─────────────────────┤              │
│  │  🔒 심층 분석        │  ✅ 심층 분석        │              │
│  │     (잠금)           │     (해금)          │              │
│  ├─────────────────────┼─────────────────────┤              │
│  │  🖼️ HD 이미지        │  🖼️ Ultra HD        │              │
│  │     (Gemini Flash)   │     (Gemini 3 Pro)  │              │
│  ├─────────────────────┼─────────────────────┤              │
│  │  📚 히스토리 3개      │  📚 히스토리 무제한   │              │
│  ├─────────────────────┼─────────────────────┤              │
│  │  ❓ 템플릿 질문만     │  ✅ 맞춤 질문        │              │
│  ├─────────────────────┼─────────────────────┤              │
│  │  ❌ 패턴 분석        │  ✅ 꿈/타로 패턴     │              │
│  ├─────────────────────┼─────────────────────┤              │
│  │  ❌ 사주 궁합        │  ✅ 궁합/연간운세     │              │
│  ├─────────────────────┼─────────────────────┤              │
│  │  주 3회 제한         │  무제한              │              │
│  └─────────────────────┴─────────────────────┘              │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  🔥 연간 구독 시 33% 할인!                           │   │
│  │     월 ₩9,900 → 월 ₩6,583 (연 ₩79,000)              │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌───────────────┐  ┌───────────────┐  ┌───────────────┐   │
│  │ 이번만 ₩2,900 │  │ 월 ₩9,900    │  │ 연 ₩79,000   │   │
│  │   1회권       │  │   구독하기    │  │   Best Deal!  │   │
│  └───────────────┘  └───────────────┘  └───────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### No-Brainer 포인트 (v2)

```
사용자 심리 흐름:
─────────────────
1. 무료로 리딩 받음 → "오 이거 진짜 좋다!" (Sonnet 4.5 품질)
2. Hidden Insight 블러 + 힌트 → "당신의 숨겨진 두려움과... 뭔데?!"
3. 블러 클릭 → 프리미엄 모달 팝업
4. 비교표 봄 → "무료도 Sonnet인데... 프리미엄은 뭐가 다르지?"
5. 차이점 확인 → "패턴 분석, 궁합, 무제한... 이건 좋네"
6. 가격 봄 → "월 4,900원이면 커피 한 잔인데..."
7. 결제 → Hidden Insight + 심층 분석 봄 → "와 이건 돈값 한다"
8. 다음에도 씀 → 꿈/타로 패턴 분석 → "이런 게 있었어?"
9. 계속 사용 → "연간이 더 싸네" → 연간 전환

핵심 차별화:
─────────────
• 무료도 "와" 경험 → 프리미엄 업그레이드 동기
• Hidden Insight 힌트 = 전환율 핵심 (티저 문구)
• 주 3회 = 리텐션 최적화 (매일 오게 함)
• 패턴 분석 = 장기 가치 (계속 쓸수록 의미 있음)
```

---

## 5. pSEO 최적화 전략 (Pieter Levels 방식)

### 페이지 생성 원칙

```
✅ 생성해야 하는 페이지 (유용함):
───────────────────────────────
• /tag/뱀 - 뱀 관련 꿈/타로 모음 (검색 의도: "뱀꿈 해몽")
• /dream/{id} - 개별 꿈 상세 (검색 의도: 비슷한 꿈 찾기)
• /dreams/category/animal - 동물 꿈 모음
• /user/{id} - 공개 프로필 (검색 의도: 해몽가 찾기)

❌ 생성하면 안 되는 페이지 (무가치):
────────────────────────────────
• 콘텐츠 없는 태그 페이지 (0개)
• 너무 구체적인 조합 (/tag/뱀?type=saju&year=2024)
• 중복 콘텐츠 페이지
• 자동 생성된 의미없는 페이지
```

### 태그 페이지 최소 기준

```javascript
// 태그 페이지 생성 조건
const shouldCreateTagPage = (tag) => {
  return (
    tag.totalCount >= 3 &&  // 최소 3개 콘텐츠
    tag.name.length >= 2 && // 한 글자 태그 제외
    !BLOCKED_TAGS.includes(tag.name) // 부적절한 태그 제외
  );
};
```

### SEO 자동화 파이프라인

```
콘텐츠 저장 → 태그 추출 → 태그 카운트 업데이트 → 페이지 자동 생성
     ↓              ↓              ↓                   ↓
  Firebase      정규화         tags 컬렉션        sitemap 갱신
```

### Sitemap 전략

```xml
<!-- sitemap-tags.xml (동적 생성) -->
<urlset>
  <!-- 인기 태그만 포함 (count >= 10) -->
  <url>
    <loc>https://dreamstorybook.com/tag/뱀</loc>
    <lastmod>{현재날짜}</lastmod>  <!-- 동적 생성 -->
    <changefreq>daily</changefreq>
    <priority>0.8</priority>
  </url>
  <!-- ... -->
</urlset>

<!-- sitemap-content.xml (동적 생성) -->
<urlset>
  <!-- 공개 콘텐츠만 포함 -->
  <url>
    <loc>https://dreamstorybook.com/dream/abc123</loc>
    <lastmod>{콘텐츠수정일}</lastmod>  <!-- 동적 생성 -->
    <priority>0.6</priority>
  </url>
  <!-- ... -->
</urlset>
```

### 내부 링크 구조

```
모든 페이지에서 상호 연결:
──────────────────────────
개별 콘텐츠 → 관련 태그들 (클릭 가능)
태그 페이지 → 개별 콘텐츠들
태그 페이지 → 관련 태그들
카테고리 페이지 → 해당 태그들
사용자 프로필 → 해당 사용자 콘텐츠

→ 크롤러가 모든 페이지를 쉽게 발견
→ 페이지 간 링크 주스(Link Juice) 분배
```

---

## 6. 구현 우선순위 (Phase별)

### Phase 0: AI Tier System (1-2일)
```
[P0-1] AI 모델 설정 파일 생성 (aiConfig.js)
[P0-2] getModelConfig() 함수 구현
[P0-3] useReading.js에 티어 분기 로직 적용
[P0-4] 프롬프트 분기 (Free: 간결 / Premium: MrBeast)
[P0-5] 키워드 생성 Sonnet 고정 확인
```

### Phase 1: 기반 작업 ✅ 완료
```
[P1-1] 타로 결과창 하단 뒤로가기/다른질문 버튼 제거
[P1-2] 명조 폰트 → 리디바탕 전체 변경
[P1-3] fortunes → saju 네이밍 전체 변경 (라우팅, 컬렉션명)
```

### Phase 2: 통합 공개 설정 ✅ 완료
```
[P2-1] visibility 필드 통일 (dream/tarot/saju 모두)
[P2-2] 저장 시 공개 설정 UI 컴포넌트 생성
[P2-3] 마이페이지 공개 설정 통합
[P2-4] unlisted 모드 구현 (링크 공유용)
```

### Phase 3: 태그 시스템 (3-5일)
```
[P3-1] 저장 시 keywords → tags 정규화 로직
[P3-2] tags 컬렉션 생성 및 카운트 관리
[P3-3] 키워드 클릭 → /tag/{tagName} 라우팅
[P3-4] TagPage.jsx 생성 (통합 태그 페이지)
[P3-5] 타입별 필터 탭 구현
[P3-6] 관련 태그 표시
```

### Phase 4: pSEO 강화 (2-3일)
```
[P4-1] TagPage SEO 메타데이터 자동 생성
[P4-2] /tags 전체 태그 탐색 페이지
[P4-3] 트렌딩 태그 로직
[P4-4] sitemap 동적 생성 (태그 + 콘텐츠)
[P4-5] robots.txt 최적화
```

### Phase 5: 결제 시스템 (5-7일)
```
[P5-1] 무료/프리미엄 기능 분리 정의
[P5-2] 무료 횟수 제한 로직 구현
[P5-3] Hidden Insight 블러 처리
[P5-4] 프리미엄 비교 모달 UI
[P5-5] 결제 연동 (토스페이먼츠/Stripe)
[P5-6] 구독 상태 관리 (Firebase)
[P5-7] 1회권 구매 로직
```

### Phase 6: 최적화 (2-3일)
```
[P6-1] 광고 시스템 연동 (무료 사용자)
[P6-2] 분석 길이 분기 (무료: Haiku / 프리미엄: Sonnet)
[P6-3] A/B 테스트 설정
```

---

## 7. 기술 스택 요약 (v4 - 3티어 시스템)

```
Frontend:
├── React + Vite
├── React Router (pSEO 라우팅)
├── react-helmet-async (SEO 메타)
└── CSS Modules

Backend:
├── Firebase Firestore (데이터)
├── Firebase Auth (인증)
├── Firebase Functions (서버리스)
└── AI APIs
    ├── Claude Sonnet 4.5 (Free/Premium 텍스트)
    ├── Claude Opus 4.5 (Ultra 텍스트 - 소름돋는 통찰!)
    ├── Gemini 2.0 Flash (Free 이미지 - HD)
    └── Gemini 3 Pro Preview (Premium/Ultra 이미지 - HD)

이미지 설정:
├── 리딩 결과: 16:9, HD
└── 내보내기: 1:1, HD (추후 구현)

결제:
├── 토스페이먼츠 (국내)
├── Firebase Functions (웹훅 처리)
└── 3티어 가격
    ├── 프리미엄: ₩6,900/월 (₩55,000/년)
    ├── 울트라: ₩9,900/월 (₩79,000/년)
    └── 1회권: ₩1,900 / ₩2,900

SEO:
├── 동적 sitemap 생성
├── JSON-LD Structured Data
├── Open Graph 메타태그
└── robots.txt

그로스 (Phase 8):
├── 알림/리마인더 (Firebase Cloud Messaging)
├── 레퍼럴 프로그램 (동적 링크)
├── 온보딩 플로우 개선
├── 시즌 이벤트 시스템
└── i18n (영어 확장 준비)
```

---

## 8. 성공 지표 (KPIs)

```
pSEO 지표:
├── 인덱싱된 페이지 수
├── 오가닉 트래픽
├── 태그 페이지 클릭률
└── 검색 순위 (주요 키워드)

비즈니스 지표:
├── 무료→프리미엄 전환율
├── 1회권 구매 횟수
├── 월간 반복 수익 (MRR)
├── 연간 구독 비율
└── 이탈률 (Churn Rate)

사용자 지표:
├── DAU/MAU
├── 리딩 완료율
├── 공개 설정 비율
├── 태그 클릭률
└── 공유율
```

---

## 부록 A: 마이그레이션 체크리스트

```
[ ] fortunes 컬렉션 → saju 컬렉션 마이그레이션
[ ] 기존 keywords → tags 변환 스크립트
[ ] isPublic → visibility 마이그레이션
[ ] 기존 라우팅 리다이렉트 설정 (/fortune/* → /saju/*)
[ ] SEO 메타데이터 업데이트
[ ] sitemap 재생성
```

---

## 부록 B: 프롬프트 캐싱 구현 가이드

### 개요

프롬프트 캐싱으로 반복되는 시스템 프롬프트 비용을 최대 90% 절감 가능

```
┌─────────────────────────────────────────────────────────────┐
│  프롬프트 캐싱 비용 절감                                      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  기존 방식:                                                  │
│  ─────────                                                  │
│  매 요청마다 시스템 프롬프트 전체 과금                        │
│  예: 2000 토큰 시스템 프롬프트 × 100회 = 200,000 토큰 과금    │
│                                                             │
│  캐싱 적용:                                                  │
│  ─────────                                                  │
│  첫 요청: 2000 토큰 (cache_creation) → 25% 할증              │
│  이후 99회: 2000 × 99 = 198,000 토큰 → 90% 할인!            │
│                                                             │
│  결과: 약 80-90% 비용 절감 가능                              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### Claude 프롬프트 캐싱 (명시적)

```javascript
// anthropic SDK 사용
import Anthropic from '@anthropic-ai/sdk';

const client = new Anthropic();

// 캐싱 적용된 요청
const response = await client.messages.create({
    model: "claude-sonnet-4-5-20250514",
    max_tokens: 4000,
    system: [
        {
            type: "text",
            text: `당신은 꿈 해석 전문가입니다...

            [긴 시스템 프롬프트 - 1024 토큰 이상 필요]

            MrBeast 도파민 스타일로 작성하세요:
            1. Hook: 핵심 의미 먼저
            2. Foreshadow: 숨겨진 메시지
            3. Keywords: 상징 분석
            4. Bonus: 추가 인사이트
            5. Twist: 반전 메시지
            ...
            `,
            cache_control: { type: "ephemeral" }  // ← 핵심!
        }
    ],
    messages: [
        {
            role: "user",
            content: dreamContent
        }
    ]
});

// 캐시 사용량 확인
console.log('캐시 생성 토큰:', response.usage.cache_creation_input_tokens);
console.log('캐시 읽기 토큰:', response.usage.cache_read_input_tokens);
// cache_read_input_tokens가 높을수록 비용 절감!
```

### Claude 캐싱 조건

```
┌─────────────────────────────────────────────────────────────┐
│  Claude 캐싱 요구사항                                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  1. 최소 토큰 수:                                            │
│     • claude-sonnet-4-5: 1,024 토큰 이상                    │
│     • claude-opus-4-5: 1,024 토큰 이상                      │
│                                                             │
│  2. 캐시 수명 (TTL):                                         │
│     • ephemeral: 5분                                        │
│     • 5분 내 재사용 시 캐시 히트                              │
│     • 사용할 때마다 TTL 갱신됨                               │
│                                                             │
│  3. cache_control 위치:                                      │
│     • system 메시지에 적용                                   │
│     • 또는 tools 정의에 적용                                 │
│     • 여러 breakpoint 가능                                   │
│                                                             │
│  4. 비용:                                                    │
│     • cache_creation: 기본 가격 × 1.25 (25% 할증)           │
│     • cache_read: 기본 가격 × 0.10 (90% 할인!)              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### Gemini 프롬프트 캐싱 (암시적)

```javascript
// Gemini 2.5+ 모델은 자동으로 캐싱 적용
// 별도 설정 불필요!

const response = await ai.models.generateContent({
    model: 'gemini-2.5-flash',  // 또는 gemini-3-pro
    contents: [
        {
            role: 'user',
            parts: [{ text: prompt }]
        }
    ],
    systemInstruction: longSystemPrompt  // 자동 캐싱됨
});

// 캐시 사용량 확인
const usage = response.usageMetadata;
console.log('캐시 토큰:', usage.cachedContentTokenCount);
// cachedContentTokenCount > 0 이면 캐시 히트!
```

### Gemini 캐싱 조건

```
┌─────────────────────────────────────────────────────────────┐
│  Gemini Implicit Caching 특징                                │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  1. 자동 적용:                                               │
│     • Gemini 2.5+ 모델에서 자동 활성화                       │
│     • 별도 코드 수정 불필요                                   │
│                                                             │
│  2. 캐시 조건:                                               │
│     • 최소 1,024 토큰 이상의 반복 콘텐츠                      │
│     • 프롬프트 시작 부분이 동일해야 함                        │
│                                                             │
│  3. 비용:                                                    │
│     • 캐시 저장: 무료                                        │
│     • 캐시 히트: 입력 가격의 75% 할인                        │
│                                                             │
│  4. 지원 모델:                                               │
│     • gemini-2.0-flash ✅                                   │
│     • gemini-2.5-flash ✅                                   │
│     • gemini-2.5-pro ✅                                     │
│     • gemini-3-pro-image-preview ✅ (예상)                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### Dream Storybook 적용 전략

```
┌─────────────────────────────────────────────────────────────┐
│  우리 서비스에 적용                                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  1. Claude (텍스트 분석):                                    │
│     • 시스템 프롬프트를 1,024 토큰 이상으로 구성              │
│     • MrBeast 도파민 프롬프트 + 출력 형식 정의               │
│     • cache_control: { type: "ephemeral" } 적용             │
│                                                             │
│  2. Gemini (이미지 생성):                                    │
│     • 2.0 Flash / 3 Pro 모두 자동 캐싱                       │
│     • 이미지 스타일 프롬프트를 프리픽스로 고정               │
│     • 별도 코드 수정 불필요                                   │
│                                                             │
│  3. 예상 비용 절감:                                          │
│     • 시스템 프롬프트: ~2,000 토큰                           │
│     • 100회 요청 기준:                                       │
│       - 기존: 200,000 토큰 × 기본가                         │
│       - 캐싱: 2,500 토큰 × 1.25 + 197,500 × 0.1            │
│             = 약 85% 절감!                                   │
│                                                             │
│  4. 구현 우선순위:                                           │
│     ① Claude 시스템 프롬프트 캐싱 (명시적)                   │
│     ② 캐시 히트율 모니터링                                   │
│     ③ Gemini 자동 캐싱 확인                                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 모니터링 코드 예시

```javascript
// src/utils/cacheMonitor.js

/**
 * Claude API 캐시 사용량 추적
 */
export const trackClaudeCacheUsage = (response) => {
    const { usage } = response;

    const stats = {
        inputTokens: usage.input_tokens,
        outputTokens: usage.output_tokens,
        cacheCreationTokens: usage.cache_creation_input_tokens || 0,
        cacheReadTokens: usage.cache_read_input_tokens || 0
    };

    // 캐시 히트율 계산
    const cacheHitRate = stats.cacheReadTokens /
        (stats.inputTokens + stats.cacheReadTokens) * 100;

    console.log(`캐시 히트율: ${cacheHitRate.toFixed(1)}%`);

    // 비용 절감 추정
    const savingsRate = stats.cacheReadTokens * 0.9 / stats.inputTokens;
    console.log(`예상 비용 절감: ${(savingsRate * 100).toFixed(1)}%`);

    return stats;
};

/**
 * Gemini API 캐시 사용량 추적
 */
export const trackGeminiCacheUsage = (response) => {
    const usage = response.usageMetadata;

    const stats = {
        promptTokens: usage.promptTokenCount,
        candidatesTokens: usage.candidatesTokenCount,
        cachedTokens: usage.cachedContentTokenCount || 0
    };

    // 캐시 히트율 계산
    const cacheHitRate = stats.cachedTokens / stats.promptTokens * 100;
    console.log(`Gemini 캐시 히트율: ${cacheHitRate.toFixed(1)}%`);

    return stats;
};
```

---

## 부록 C: 모바일 최적화 전략 (Phase 10 상세)

> 🎯 **벤치마크: 토스 앱** - 직관적이고 편리한 모바일 UX의 정수
> 대다수 사용자가 모바일로 접속할 것으로 예상되므로 모바일 친화적 UI/UX는 필수

### C.1 현황 분석

#### 현재 문제점

```
┌─────────────────────────────────────────────────────────────┐
│  현재 모바일 접속 시 문제점                                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  1. 3단 레이아웃이 그대로 표시됨:                             │
│     • 좌측 피드 (280px) + 중앙 콘텐츠 + 우측 (320px)         │
│     • 모바일에서 가로 스크롤 발생 또는 겹침                   │
│                                                             │
│  2. 오버레이 문제:                                           │
│     • 중앙 콘텐츠가 사이드바 위에 겹쳐서 표시                 │
│     • 터치 불가능한 영역 발생                                 │
│                                                             │
│  3. 터치 최적화 부재:                                         │
│     • 버튼/링크 크기가 44px 미만                              │
│     • hover 상태가 모바일에서 이상하게 동작                   │
│                                                             │
│  4. 비효율적 공간 사용:                                       │
│     • 모바일 화면에서 불필요한 여백                           │
│     • 중요 콘텐츠가 스크롤 없이 보이지 않음                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### CSS 현황 분석

```
CSS 파일 구조 (51개 @media 쿼리, 18개 파일):
─────────────────────────────────────────────

src/styles/
├── base/
│   └── responsive.css (3 breakpoints)
│       • 1200px: 데스크탑
│       • 1024px: 태블릿
│       • 640px: 모바일
│
├── layouts/
│   ├── main-layout.css (3단 레이아웃 정의)
│   │   • 좌측: 280px 고정
│   │   • 중앙: flex-grow
│   │   • 우측: 320px 고정
│   │
│   └── navbar.css (네비게이션)
│
├── components/
│   ├── cards/
│   ├── modals/
│   └── forms/
│
└── pages/
    └── seo-pages.css

문제점:
• 모바일 스타일이 여러 파일에 분산
• 일관된 breakpoint 사용 안 됨
• mobile-first 접근 아님 (desktop-first)
```

### C.2 개선 전략: 토스 스타일 모바일 UX

#### 핵심 원칙

```
┌─────────────────────────────────────────────────────────────┐
│  토스 앱에서 배우는 모바일 UX 원칙                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  1. 원핸드 사용성 (One-hand usability)                       │
│     • 주요 액션은 화면 하단에 배치                           │
│     • 엄지손가락 도달 범위 고려                              │
│     • 바텀 네비게이션 필수                                   │
│                                                             │
│  2. 즉각적인 피드백 (Instant feedback)                       │
│     • 모든 터치에 시각적 반응                                │
│     • 로딩 상태 명확히 표시 (Skeleton UI)                    │
│     • 성공/실패 토스트 메시지                                │
│                                                             │
│  3. 단순함 (Simplicity)                                      │
│     • 한 화면에 하나의 핵심 기능                             │
│     • 불필요한 요소 제거                                     │
│     • 직관적인 아이콘과 레이블                               │
│                                                             │
│  4. 부드러운 전환 (Smooth transitions)                       │
│     • 페이지 전환 애니메이션                                 │
│     • 바텀시트 스와이프                                      │
│     • 자연스러운 스크롤                                      │
│                                                             │
│  5. 일관성 (Consistency)                                     │
│     • 동일한 액션은 동일한 위치                              │
│     • 통일된 컴포넌트 스타일                                 │
│     • 예측 가능한 UX 패턴                                    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### C.3 레이아웃 재구성

#### 데스크탑 vs 모바일 레이아웃

```
데스크탑 (1024px+):
┌─────────────────────────────────────────────────────────────┐
│  NavBar (상단 고정)                                          │
├──────────┬───────────────────────────┬──────────────────────┤
│          │                           │                      │
│  피드     │      메인 콘텐츠           │     우측 패널        │
│  280px   │      (flex)               │     320px           │
│          │                           │                      │
│  • 최신   │                           │  • 프로필           │
│  • 인기   │                           │  • 통계             │
│          │                           │                      │
└──────────┴───────────────────────────┴──────────────────────┘

모바일 (768px 미만):
┌─────────────────────────────┐
│  NavBar (간소화)             │
├─────────────────────────────┤
│                             │
│      메인 콘텐츠 (100%)       │
│                             │
│      • 풀스크린 카드 뷰       │
│      • 스와이프 가능          │
│                             │
│                             │
├─────────────────────────────┤
│  바텀 네비게이션              │
│  🏠  📚  ✨  👤            │
│  홈  피드  리딩  마이          │
└─────────────────────────────┘

피드 접근: 바텀시트로 슬라이드업
설정/프로필: 바텀 네비 > 마이페이지
```

#### 바텀 네비게이션 설계

```jsx
// 모바일 바텀 네비게이션 구조
<nav className="bottom-nav">
    <button className="nav-item active">
        <span className="nav-icon">🏠</span>
        <span className="nav-label">홈</span>
    </button>
    <button className="nav-item">
        <span className="nav-icon">📚</span>
        <span className="nav-label">피드</span>
    </button>
    <button className="nav-item primary">
        <span className="nav-icon">✨</span>
        <span className="nav-label">리딩</span>
    </button>
    <button className="nav-item">
        <span className="nav-icon">👤</span>
        <span className="nav-label">마이</span>
    </button>
</nav>
```

### C.4 CSS 변수 기반 반응형 시스템

```css
/* src/styles/base/variables-responsive.css */

:root {
    /* ========== Breakpoints ========== */
    --breakpoint-mobile: 640px;
    --breakpoint-tablet: 768px;
    --breakpoint-desktop: 1024px;
    --breakpoint-wide: 1200px;

    /* ========== Spacing (모바일 기준) ========== */
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;

    /* ========== 터치 타겟 ========== */
    --touch-target-min: 44px;
    --touch-target-comfortable: 48px;

    /* ========== 타이포그래피 (모바일) ========== */
    --font-size-xs: 12px;
    --font-size-sm: 14px;
    --font-size-base: 16px;   /* 모바일 기본 */
    --font-size-lg: 18px;
    --font-size-xl: 20px;
    --font-size-2xl: 24px;
    --font-size-3xl: 30px;

    /* ========== 레이아웃 ========== */
    --header-height: 56px;
    --bottom-nav-height: 64px;
    --sidebar-width: 0px;      /* 모바일: 사이드바 없음 */
    --content-max-width: 100%;
    --content-padding: var(--spacing-md);

    /* ========== Z-index ========== */
    --z-bottom-nav: 100;
    --z-header: 200;
    --z-modal: 300;
    --z-toast: 400;
    --z-tooltip: 500;

    /* ========== 애니메이션 ========== */
    --transition-fast: 150ms ease;
    --transition-normal: 250ms ease;
    --transition-slow: 350ms ease;

    /* ========== Safe Area (노치 대응) ========== */
    --safe-area-top: env(safe-area-inset-top, 0px);
    --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    --safe-area-left: env(safe-area-inset-left, 0px);
    --safe-area-right: env(safe-area-inset-right, 0px);
}

/* 태블릿 */
@media (min-width: 768px) {
    :root {
        --header-height: 64px;
        --bottom-nav-height: 0px;  /* 태블릿+: 바텀 네비 숨김 */
        --sidebar-width: 280px;
        --content-padding: var(--spacing-lg);
    }
}

/* 데스크탑 */
@media (min-width: 1024px) {
    :root {
        --sidebar-width: 280px;
        --content-max-width: 1200px;
        --content-padding: var(--spacing-xl);
    }
}
```

### C.5 컴포넌트별 모바일 최적화

#### 카드 뷰어

```
데스크탑: 16:9 비율, 좌우 여백 있음
모바일: 9:16 비율, 풀스크린, 스와이프 넘기기

┌─────────────────────────┐
│                         │
│     ┌─────────────┐     │
│     │             │     │
│     │  이미지      │     │
│     │  (9:16)     │     │
│     │             │     │
│     │             │     │
│     └─────────────┘     │
│                         │
│  < 이전  ● ● ○ ○  다음 > │
│                         │
└─────────────────────────┘
```

#### 모달 → 풀스크린 시트

```
데스크탑: 센터 모달 (max-width: 480px)
모바일: 바텀에서 슬라이드업 풀스크린 시트

┌─────────────────────────┐
│  ─────  (드래그 핸들)    │
├─────────────────────────┤
│                         │
│  시트 콘텐츠              │
│                         │
│                         │
│                         │
│  ┌─────────────────────┐│
│  │     확인 버튼        ││
│  └─────────────────────┘│
└─────────────────────────┘
```

#### 입력 폼

```css
/* 모바일 입력 최적화 */
input, textarea, select {
    font-size: 16px;           /* iOS 확대 방지 */
    min-height: var(--touch-target-min);
    padding: var(--spacing-sm) var(--spacing-md);
}

/* 키보드 대응 */
.form-container {
    padding-bottom: calc(var(--spacing-xl) + var(--safe-area-bottom));
}

/* 날짜 입력 (사주용) */
input[type="date"] {
    -webkit-appearance: none;
    appearance: none;
}
```

### C.6 성능 최적화

#### 이미지 최적화

```jsx
// 반응형 이미지 컴포넌트
const ResponsiveImage = ({ src, alt, sizes }) => (
    <picture>
        <source
            media="(max-width: 640px)"
            srcSet={`${src}?w=640&format=webp`}
            type="image/webp"
        />
        <source
            media="(max-width: 1024px)"
            srcSet={`${src}?w=1024&format=webp`}
            type="image/webp"
        />
        <img
            src={src}
            alt={alt}
            loading="lazy"
            decoding="async"
        />
    </picture>
);
```

#### 번들 최적화

```javascript
// vite.config.js
export default {
    build: {
        rollupOptions: {
            output: {
                manualChunks: {
                    'vendor-react': ['react', 'react-dom'],
                    'vendor-firebase': ['firebase/app', 'firebase/firestore'],
                    'vendor-ui': ['framer-motion']
                }
            }
        }
    }
};
```

### C.7 PWA 설정

```json
// public/manifest.json
{
    "name": "점AI - AI 타로 · 꿈해몽 · 사주",
    "short_name": "점AI",
    "description": "AI 기반 타로, 꿈해몽, 사주 서비스",
    "start_url": "/",
    "display": "standalone",
    "background_color": "#0a0a1a",
    "theme_color": "#9b59b6",
    "orientation": "portrait",
    "icons": [
        {
            "src": "/icons/icon-192.png",
            "sizes": "192x192",
            "type": "image/png"
        },
        {
            "src": "/icons/icon-512.png",
            "sizes": "512x512",
            "type": "image/png"
        },
        {
            "src": "/icons/icon-maskable.png",
            "sizes": "512x512",
            "type": "image/png",
            "purpose": "maskable"
        }
    ]
}
```

### C.8 구현 로드맵

```
┌─────────────────────────────────────────────────────────────┐
│  Phase 10 구현 순서                                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Step 1: 기반 작업 (1-2일)                                   │
│  ─────────────────────────                                  │
│  • CSS 변수 시스템 구축 (variables-responsive.css)           │
│  • viewport meta 최적화                                      │
│  • 브레이크포인트 표준화                                      │
│                                                             │
│  Step 2: 레이아웃 재구성 (2-3일)                              │
│  ─────────────────────────                                  │
│  • 모바일 단일 컬럼 레이아웃                                  │
│  • 바텀 네비게이션 구현                                       │
│  • 피드 바텀시트 구현                                         │
│  • 네비게이션 바 모바일 최적화                                │
│                                                             │
│  Step 3: 터치 최적화 (1-2일)                                  │
│  ─────────────────────────                                  │
│  • 터치 타겟 44px 이상 적용                                   │
│  • hover 상태 @media (hover: none) 처리                      │
│  • 터치 피드백 추가                                          │
│                                                             │
│  Step 4: 컴포넌트 최적화 (2-3일)                              │
│  ─────────────────────────                                  │
│  • 카드 뷰어 풀스크린 + 스와이프                              │
│  • 모달 → 바텀시트 전환                                      │
│  • 입력 폼 키보드 대응                                        │
│  • Skeleton UI 추가                                          │
│                                                             │
│  Step 5: 성능 최적화 (1-2일)                                  │
│  ─────────────────────────                                  │
│  • 이미지 lazy loading                                       │
│  • 번들 분할 (code splitting)                                │
│  • 폰트 최적화 (preload, font-display)                       │
│                                                             │
│  Step 6: PWA (1일)                                           │
│  ─────────────────────────                                  │
│  • manifest.json 생성                                        │
│  • Service Worker 기본 설정                                  │
│  • A2HS 배너 구현                                            │
│                                                             │
│  총 예상 기간: 8-13일                                         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### C.9 테스트 체크리스트

```
모바일 테스트 체크리스트:
─────────────────────────

[ ] 기기별 테스트
    [ ] iPhone SE (소형)
    [ ] iPhone 14/15 (표준)
    [ ] iPhone 14 Pro Max (대형)
    [ ] Galaxy S21 (Android)
    [ ] iPad (태블릿)

[ ] 레이아웃 테스트
    [ ] 가로 스크롤 없음
    [ ] 오버레이/겹침 없음
    [ ] 노치/펀치홀 영역 대응
    [ ] 세로/가로 회전 대응

[ ] 터치 테스트
    [ ] 모든 버튼 44px 이상
    [ ] 실수 터치 방지 간격
    [ ] 스와이프 제스처 동작
    [ ] 더블탭 확대 방지

[ ] 입력 테스트
    [ ] 키보드 오픈 시 레이아웃
    [ ] 포커스 시 스크롤 위치
    [ ] 자동완성 동작
    [ ] 날짜/시간 피커

[ ] 성능 테스트
    [ ] Lighthouse 모바일 점수 90+
    [ ] FCP < 1.8s
    [ ] LCP < 2.5s
    [ ] CLS < 0.1

[ ] PWA 테스트
    [ ] 홈 화면 추가 동작
    [ ] 앱 아이콘 표시
    [ ] 스플래시 화면
    [ ] 오프라인 폴백
```
